---
slug: /Issues
title: é‡åˆ°çš„é—®é¢˜
sidebar_position: 3
description: è¿™ä¸ªé¡µé¢ä¸»è¦è®°å½•åœ¨éƒ¨ç½²æ–‡ä»¶ç«™ä¸­é‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•ã€‚
---

import { Highlight, Keyword, Light, B1, B2, B3, BH3, B3W, MyColor} from '@site/src/components/ForMDX';
import CardImg from '@site/src/components/CardImg';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## <B2>éƒ¨ç½²å»¶è¿Ÿ</B2>

è¿™æ˜¯æœ¬åœ°ç»è¿‡ `yarn deploy` åæ˜¾ç¤ºçš„æƒ…å†µï¼Œå¯è§ `Done in ...`ã€‚ä½†æ˜¯çœŸçš„éƒ¨ç½²æˆåŠŸäº†å—ï¼Ÿ

<p><CardImg src="/img/Issues/Deploy_Fake_Done.jpg" alt="å®é™…å°šæœªéƒ¨ç½²æˆåŠŸ" isCenter={true} isBoxed={true} /></p>

ä¹‹åç‚¹å‡» `https://eurekashadow.github.io/` æˆ–è€…åŸŸå `https://www.eurekashadow.xin/`,ä¼šå‡ºç°ä¸‹é¢è¿™ä¸ªé¡µé¢ï¼š

<p><CardImg src="/img/Issues/After_Dploy.jpg" alt="There isn't a Git Pages site here." isCenter={true} isBoxed={true} /></p>

è¿™æ˜¯å¯èƒ½æ˜¯å› ä¸ºï¼šGitHub Actions ä½¿ç”¨çš„å…è´¹ CI/CD èµ„æºï¼ˆRunnerï¼‰æ˜¯å…±äº«çš„ï¼Œåœ¨å…¨çƒç”¨æˆ·<Highlight> é«˜å³°æœŸ </Highlight>æ—¶å‡ºç°äº†<Highlight> æ’é˜Ÿç°è±¡ </Highlight>ã€‚
æ‰“å¼€`Github` ä¸­çš„ `Actions` å¯ä»¥çœ‹åˆ°æ­£åœ¨æ’é˜ŸçŠ¶æ€ï¼Œæ‰€ä»¥æ…¢æ…¢ç­‰å§ã€‚è¿‡ä¸€æ®µæ—¶é—´ï¼Œå°±ä¼šéƒ¨ç½²æˆåŠŸäº†ï¼š
<p><CardImg src="/img/Issues/Real_Deploy_Done.jpg" alt="å®é™…å°šæœªéƒ¨ç½²æˆåŠŸ" isCenter={true} isBoxed={true} /></p>

ç»è¿‡åç»­ä½¿ç”¨å‘ç°ï¼Œ**ä¿®å¤CNAMEé—®é¢˜å**ï¼Œå†ä¹Ÿæ²¡æœ‰å‡ºç°è¿™ç§æ‰€è°“çš„éƒ¨ç½²å»¶æ—¶çš„é—®é¢˜ï¼Œä¹Ÿè®¸æ ¹æœ¬ä¸æ˜¯ä»€ä¹ˆ<Highlight> é«˜å³°æœŸ </Highlight>å¯¼è‡´çš„ï¼Œç½ªé­ç¥¸é¦–å¯èƒ½æ˜¯åŸæ¥**é”™è¯¯çš„
CNAME.txt**ï¼

---

## <B2>å…³äºCNAME</B2>

æˆ‘çœ‹è¿™ç¯‡[æ–‡ç« ](https://xxx.zhangyuqi.top/docs/MyWebsite/StudyBuildWebsite#6-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D)çš„æ—¶å€™ï¼Œtaè¯´è¦åœ¨staticç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª
CNAME.txtçš„ç©ºç™½æ–‡ä»¶ã€‚

ç°åœ¨æˆ‘é‡åˆ°çš„é—®é¢˜æ˜¯ï¼Œæ¯æ¬¡æœ¬åœ°æ˜¾ç¤ºéƒ¨ç½²å®ŒæˆåGithubç«¯æ€»æ˜¯ **è‡ªå®šä¹‰åŸŸåä¸¢å¤±** åƒè¿™æ ·ï¼šï¼ˆä¹‹å‰æˆ‘å·²ç»å¡«è¿‡åŸŸåäº†ï¼‰
<p><CardImg src="/img/Issues/domain_issue1.jpg" alt="åŸŸåè¢«å" isCenter={true} isBoxed={true} /></p>

<details>
<summary>é—®é¢˜åˆ†æ</summary>

é‡æ–°å¡«å†™åŸŸåï¼š
<p><CardImg src="/img/Issues/domain_issue2.jpg" alt="é‡æ–°å¡«å†™åŸŸå" isCenter={true} isBoxed={true} /></p>

å¡«å†™åŸŸååä¼šå†æ¬¡è§¦å‘Github Actionsï¼š
<p><CardImg src="/img/Issues/deploy_done_in26s.jpg" alt="çœŸæ­£éƒ¨ç½²æˆåŠŸ" isCenter={true} isBoxed={true} /></p>

è¿™æ—¶å€™æˆ‘æ‰“å¼€Githubä»“åº“ï¼ŒæŸ¥çœ‹ `git-pages` åˆ†æ”¯ï¼Œå‘ç°å®ƒåˆæ„å»ºäº†ä¸€ä¸ª `CNAME` æ–‡ä»¶ï¼ˆå¦‚ä¸‹å›¾ï¼Œæ— æ–‡ä»¶æ ¼å¼ï¼‰ï¼Œé‡Œé¢çš„å†…å®¹æ˜¯æˆ‘çš„åŸŸå `www.eurekashadow.xin` 
æˆ‘æ¨æµ‹æ˜¯åœ¨Githubä¸Šé‡æ–°æ·»åŠ  `Custom domain` æ—¶è‡ªåŠ¨æ„å»ºäº†è¿™ä¸ªCNAMEæ–‡ä»¶ã€‚é‚£ä¹ˆä¹‹å‰æåˆ°çš„ `CNAME.txt` æ˜¯ä¸æ˜¯å¤šä½™çš„å‘¢ï¼Ÿæˆ–è€…è¯´å®é™…ä¸Šåº”è¯¥æ„å»ºçš„æ˜¯ `CNAME` ç„¶ååœ¨é‡Œé¢åŠ ä¸ŠåŸŸå `www.eurekashadow.xin` å‘¢ï¼Ÿ
<p><CardImg src="/img/Issues/About_CNAME1.jpg" alt="CNAMEæ˜¯å¤šä½™çš„ï¼Ÿ" isCenter={true} isBoxed={true} /></p>

`CANME` æ–‡ä»¶ä¸­å†…å®¹ï¼š
<p><CardImg src="/img/Issues/About_CNAME2.jpg" alt="CNAMEæ˜¯å¤šä½™çš„ï¼Ÿ" isCenter={true} isBoxed={true} /></p>

</details>

### <B3>CNAMEé—®é¢˜ç»“è®º</B3>

ç»æµ‹è¯•å‘ç°ï¼Œ`CNAME.txt` ç¡®å®æ˜¯ **å¤šä½™çš„** ï¼æ­£ç¡®çš„åšæ³•ï¼š

<details>
<summary>åˆ›å»º**æ— æ–‡ä»¶æ ¼å¼çš„**CNAME</summary>

<p><CardImg src="/img/Issues/Creat_CNAME1.jpg" alt="æ­¥éª¤1" isCenter={true} isBoxed={true} /></p>
<p><CardImg src="/img/Issues/Creat_CNAME2.jpg" alt="æ­¥éª¤2" isCenter={true} isBoxed={true} /></p>
<p><CardImg src="/img/Issues/Creat_CNAME3.jpg" alt="æ­¥éª¤3" isCenter={true} isBoxed={true} /></p>

</details>

åœ¨æ–°å»ºçš„ `CNAME` é‡Œé¢åŠ å…¥è‡ªå·±çš„åŸŸåï¼š
<p><CardImg src="/img/Issues/Modified_CNAME.jpg" alt="åŠ å…¥åŸŸå" isCenter={true} isBoxed={true} /></p>

ä¹‹åå°±å¯ä»¥æ­£å¸¸éƒ¨ç½²äº†ï¼š



``` bash
yarn deploy
```


Githubä¸Šçš„åŸŸåä¸ä¼šä¸¢å¤±ï¼š
<p><CardImg src="/img/Issues/CNAME_Issue_Fixed.jpg" alt="CNAMEé—®é¢˜å·²è§£å†³" isCenter={true} isBoxed={true} /></p>

---

## <B2>é«˜äº®ä¸è¡Œå·å†²çªï¼ˆæœªè§£å†³ï¼‰</B2>

è¿™æ˜¯æˆ‘çš„ docusaurus.config.js é…ç½®ï¼š

```js title="docusaurus.config.js"
prism: {
  // ä»£ç é«˜äº®ä¸»é¢˜ - æµ…è‰²ä¸»é¢˜ä½¿ç”¨ GitHub é£æ ¼
  theme: prismThemes.github,
  // ä»£ç é«˜äº®ä¸»é¢˜ - æ·±è‰²ä¸»é¢˜ä½¿ç”¨ Dracula é£æ ¼
  darkTheme: prismThemes.dracula,
  
  // è‡ªå®šä¹‰ä»£ç é«˜äº®æ ‡è®°é…ç½®
  magicComments: [
	// é«˜äº®æ ‡è®° - ç”¨äºçªå‡ºæ˜¾ç¤ºé‡è¦ä»£ç è¡Œ
	{
	  className: 'code-block-highlighted-line',  // CSS ç±»å
	  line: 'highlight-next-line',               // è¡Œå†…æ ‡è®°
	  block: { start: 'highlight-start', end: 'highlight-end' }  // å—æ ‡è®°
	},
	// æ–°å¢ä»£ç æ ‡è®° - ç”¨äºæ ‡è¯†æ–°å¢çš„ä»£ç è¡Œ
	{
	  className: 'code-block-add-line',
	  line: 'highlight-add-line',
	  block: { start: 'highlight-add-start', end: 'highlight-add-end' }
	},
	// æ›´æ–°ä»£ç æ ‡è®° - ç”¨äºæ ‡è¯†ä¿®æ”¹çš„ä»£ç è¡Œ
	{
	  className: 'code-block-update-line',
	  line: 'highlight-update-line',
	  block: { start: 'highlight-update-start', end: 'highlight-update-end' }
	},
	// é”™è¯¯ä»£ç æ ‡è®° - ç”¨äºæ ‡è¯†æœ‰é—®é¢˜çš„ä»£ç è¡Œ
	{
	  className: 'code-block-error-line',
	  line: 'highlight-error-line',
	  block: { start: 'highlight-error-start', end: 'highlight-error-end' }
	},
  ],
  
  // é¢å¤–æ”¯æŒçš„è¯­è¨€ï¼ˆè¶…å‡ºé»˜è®¤æ”¯æŒçš„è¯­è¨€åˆ—è¡¨ï¼‰
  // é»˜è®¤æ”¯æŒçš„è¯­è¨€åˆ—è¡¨å‚è€ƒï¼šhttps://github.com/FormidableLabs/prism-react-renderer/blob/master/packages/generate-prism-languages/index.ts#L9-L23
  // Prism.js å®Œæ•´æ”¯æŒè¯­è¨€åˆ—è¡¨ï¼šhttps://prismjs.com/#supported-languages
  additionalLanguages: [
	'java',   // Java ç¼–ç¨‹è¯­è¨€
	'json',   // JSON æ•°æ®æ ¼å¼
	'c',
  ],
},
```

è¿™æ˜¯å…³äº custom.css é…ç½®ï¼š
```css title="custom.css"
/* ä»£ç é«˜äº®è¡Œçš„æ ·å¼ */
.code-block-highlighted-line {
  background-color: rgba(255, 255, 0, 0.2); /* é»„è‰²é«˜äº® */
  display: block;
  margin: 0; /* é¿å…å¸ƒå±€é—®é¢˜ */
  padding: 0 1em; /* ä½¿ç”¨ em å•ä½æ›´çµæ´» */
}

.code-block-add-line {
  background-color: rgba(0, 255, 0, 0.2); /* ç»¿è‰²æ–°å¢ */
  display: block;
  margin: 0;
  padding: 0 1em;
}

.code-block-update-line {
  background-color: rgba(0, 0, 255, 0.2); /* è“è‰²æ›´æ–° */
  display: block;
  margin: 0;
  padding: 0 1em;
}

.code-block-error-line {
  background-color: rgba(255, 0, 0, 0.2); /* çº¢è‰²é”™è¯¯ */
  display: block;
  margin: 0;
  padding: 0 1em;
}

/* æ·±è‰²ä¸»é¢˜ä¸‹çš„æ ·å¼ */
html[data-theme='dark'] .code-block-highlighted-line {
  background-color: rgba(255, 255, 0, 0.2);
}

html[data-theme='dark'] .code-block-add-line {
  background-color: rgba(0, 255, 0, 0.2);
}

html[data-theme='dark'] .code-block-update-line {
  background-color: rgba(0, 0, 255, 0.2);
}

html[data-theme='dark'] .code-block-error-line {
  background-color: rgba(255, 0, 0, 0.2);
}
```

è¿™æ˜¯é«˜äº®å’Œè¡Œå·åŒæ—¶ä½¿ç”¨çš„æ–¹æ³•ï¼š
```
\```c showLineNumbers
#include <stdio.h>

int main() {
    //é«˜äº®ä¸‹ä¸€è¡Œ( highlight-next-line)
    printf("Hello, World!\n");
    
    //é«˜äº®å¼€å§‹( highlight-start)
    int x = 10;
    int y = 20;
    int sum = x + y;
    //é«˜äº®ç»“æŸ( highlight-end)
    
    return 0;
}
\```
```
è¿™æ˜¯æ˜¾ç¤ºå†²çªçš„æƒ…å†µï¼š
<p><CardImg src="/img/Issues/HighlightConflict.jpg" alt="CNAMEé—®é¢˜å·²è§£å†³" isCenter={true} isBoxed={true} /></p>

é«˜äº®ã€è¡Œå·å¯ä»¥**å•ç‹¬ä½¿ç”¨**ï¼Œä½†ä¸¤è€…**åŒæ—¶ä½¿ç”¨**å°±ä¼šé€ æˆ**å†²çª**ï¼Œ[åˆ«äºº](https://imroc.cc/note/docusaurus/codeblock#%E9%AB%98%E4%BA%AE%E5%A4%9A%E8%A1%8C/)éƒ½å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œä¸ºä»€ä¹ˆæˆ‘å°±ä¸è¡Œäº†ï¼Ÿæš‚æ—¶æœªæ’æŸ¥å‡ºåŸå› ï¼

æš‚æ—¶çš„å¦¥åæ–¹æ³•å°±æ˜¯ä¸¤è€…**åˆ†å¼€ä½¿ç”¨**äº†ã€‚ï¼ˆ20250919ï¼‰

---

## <B2>ğŸ“¦ node_modules ä½“ç§¯è¿‡å¤§å¯¼è‡´å¡é¡¿é—®é¢˜</B2>

### ğŸ¯ é—®é¢˜ç°è±¡

åœ¨æœ¬åœ°å¼€å‘ç¯å¢ƒä¸­è§‚å¯Ÿåˆ°æ˜æ˜¾çš„æ€§èƒ½é—®é¢˜ï¼š

- å½“ `node_modules` æ–‡ä»¶å¤¹ä½“ç§¯è¿‡å¤§æ—¶ï¼ˆå¦‚è¾¾åˆ° 17GBï¼‰ï¼Œæœ¬åœ°è¿è¡Œçš„ç½‘ç«™å‡ºç°ä¸¥é‡å¡é¡¿
- é¡µé¢é—´è·³è½¬ç¼“æ…¢ï¼Œé€šå¸¸éœ€è¦ 3 ç§’ä»¥ä¸Šæ‰èƒ½å®Œæˆå¯¼èˆª
- å¼€å‘æœåŠ¡å™¨ç¼–è¯‘æ—¶é—´æ˜¾è‘—å¢åŠ 
- æ•´ä½“å¼€å‘ä½“éªŒä¸‹é™ï¼Œå½±å“å·¥ä½œæ•ˆç‡

### ğŸ”§ é—®é¢˜è§£å†³

é€šè¿‡æ¸…ç† `node_modules` æ–‡ä»¶å¤¹è§£å†³æ­¤é—®é¢˜ï¼š

```bash title="bash"
npm install rimraf -g                           # å®‰è£… rimraf å·¥å…·
rimraf node_modules                             # åˆ é™¤ node_modules
npm cache clean --force                         # æ¸…é™¤ç¼“å­˜
# npm config set registry https://registry.npmmirror.com/  # ä½¿ç”¨æ–°æ·˜å®é•œåƒï¼ˆå¯é€‰ï¼‰
npm install                                     # é‡æ–°å®‰è£…ä¾èµ–		
```		

### âœ¨ æ¸…ç†åçš„æ•ˆæœ

- `node_modules` ä½“ç§¯ä» 17GB å‡å°‘åˆ°çº¦ 200MB
- é¡¹ç›®ç¼–è¯‘é€Ÿåº¦æ˜¾è‘—æå‡
- é¡µé¢è·³è½¬å‡ ä¹ç¬é—´å®Œæˆ
- æœ¬åœ°å¼€å‘ç¯å¢ƒè¿è¡Œæµç•…

### ğŸ’¡ ä¸ºä»€ä¹ˆæ¸…ç†æ˜¯å®‰å…¨çš„

1. **ä¾èµ–å£°æ˜æœºåˆ¶**
   - æ‰€æœ‰é¡¹ç›®å®é™…ä½¿ç”¨çš„ä¾èµ–éƒ½æ˜ç¡®è®°å½•åœ¨ `package.json` æ–‡ä»¶ä¸­
   - `node_modules` åªæ˜¯è¿™äº›å£°æ˜ä¾èµ–çš„"å®ä¾‹åŒ–"ç»“æœ
   - é‡æ–°å®‰è£…æ—¶ä¼šæ ¹æ® `package.json` æ¢å¤æ‰€æœ‰å¿…éœ€ä¾èµ–

2. **npm/yarn çš„è®¾è®¡åŸåˆ™**
   - åŒ…ç®¡ç†å™¨ä¼šç¡®ä¿ `package.json` ä¸­å£°æ˜çš„æ‰€æœ‰ä¾èµ–éƒ½è¢«æ­£ç¡®å®‰è£…
   - ä¸ä¼šåœ¨é‡æ–°å®‰è£…æ—¶é—æ¼ä»»ä½•æ˜ç¡®å£°æ˜çš„ä¾èµ–

### ğŸ“ é—®é¢˜ç»“è®º

`node_modules` ä½“ç§¯è¿‡å¤§ä¼šæ˜¾è‘—å½±å“æœ¬åœ°å¼€å‘ç¯å¢ƒæ€§èƒ½ï¼Œå®šæœŸæ¸…ç†æ˜¯ä¿æŒå¼€å‘ç¯å¢ƒé«˜æ•ˆè¿è¡Œçš„æœ‰æ•ˆæ–¹æ³•ã€‚æ­¤é—®é¢˜åœ¨å¤§å‹é¡¹ç›®ä¸­å°¤ä¸ºæ˜æ˜¾ï¼Œåº”ä½œä¸ºå¸¸è§„ç»´æŠ¤å·¥ä½œæ¥æ‰§è¡Œã€‚

### âš ï¸ é‡è¦è¡¥å……ï¼ˆåç»­è§‚å¯Ÿï¼‰

ç»è¿‡è¿›ä¸€æ­¥å®è·µå‘ç°ï¼Œå¼€å‘ç¯å¢ƒå¡é¡¿å¯èƒ½æœ‰å¤šä¸ªåŸå› ï¼š

1. `node_modules` ä½“ç§¯é—®é¢˜ï¼ˆæœ¬å°èŠ‚ä¸»è¦è®¨è®ºï¼‰
2. Docusaurus æ„å»ºç¼“å­˜é—®é¢˜ï¼ˆå¯èƒ½**æ›´é‡è¦**ï¼‰

å¦‚æœä»…æ¸…ç† `node_modules` æ•ˆæœä¸æ˜æ˜¾ï¼Œå»ºè®®å°è¯•æ¸…ç† Docusaurus æ„å»ºç¼“å­˜ï¼š

### ğŸš€ çœŸæ­£æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆ

<Tabs>
  <TabItem value="yarn" label="yarn">
    ```bash
    yarn clear
    ```
  </TabItem>
  
  <TabItem value="npx" label="npx">
    ```bash
    npx docusaurus clear
    ```
  </TabItem>  
</Tabs>

è¿™è¡¨æ˜å¼€å‘ç¯å¢ƒå¡é¡¿ä¸»è¦ç”± Docusaurus æ„å»ºç¼“å­˜å’Œå¼€å‘æœåŠ¡å™¨çŠ¶æ€å¼•èµ·ï¼Œè€Œé node_modules ä½“ç§¯é—®é¢˜ã€‚ä¸è¿‡ï¼Œå®šæœŸæ¸…ç†ä¸å¿…è¦çš„ä¾èµ–ä»ç„¶å¾ˆæœ‰å¿…è¦ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘ç£ç›˜ç©ºé—´æµªè´¹ã€‚

---
