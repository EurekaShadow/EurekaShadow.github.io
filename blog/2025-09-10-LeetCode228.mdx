---
slug: LeetCode228
title: æ±‡æ€»åŒºé—´
authors: eurekaX
tags: [æ•°ç»„]
---
import { Highlight, Keyword, Light, B1, B2, B3, BH3, B3W, MyColor} from '@site/src/components/ForMDX';


### <B2>[åŠ›æ‰£é¢è¯•ç»å…¸â€”â€”228é¢˜](https://leetcode.cn/problems/summary-ranges/description/?envType=study-plan-v2&envId=top-interview-150 "åŠ›æ‰£")</B2>

<!-- truncate -->


### ğŸ’¡ å‚è€ƒä»£ç ï¼š

```c
/**
 * è¿”å›æ°å¥½è¦†ç›–æ•°ç»„ä¸­æ‰€æœ‰æ•°å­—çš„æœ€å°æœ‰åºåŒºé—´èŒƒå›´åˆ—è¡¨
 * 
 * @param nums æœ‰åºæ•´æ•°æ•°ç»„ï¼ˆæ— é‡å¤å…ƒç´ ï¼‰
 * @param numsSize æ•°ç»„é•¿åº¦
 * @param returnSize è¿”å›æ•°ç»„çš„é•¿åº¦
 * @return åŒºé—´èŒƒå›´å­—ç¬¦ä¸²æ•°ç»„
 */
char** summaryRanges(int* nums, int numsSize, int* returnSize) {
    // å¤„ç†ç©ºæ•°ç»„æƒ…å†µ
    if (numsSize == 0) {
        *returnSize = 0;
        return NULL;
    }
    
    // åˆ†é…ç»“æœæ•°ç»„å†…å­˜ï¼Œæœ€åæƒ…å†µä¸‹æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ç‹¬ç«‹åŒºé—´
    char** result = (char**)malloc(numsSize * sizeof(char*));
    *returnSize = 0;
    
    // ä½¿ç”¨åŒæŒ‡é’ˆéå†æ•°ç»„
    int start = 0;  // å½“å‰åŒºé—´çš„èµ·å§‹ä½ç½®
    for (int end = 0; end < numsSize; end++) {
        // å¦‚æœåˆ°è¾¾æ•°ç»„æœ«å°¾æˆ–è€…ä¸‹ä¸€ä¸ªå…ƒç´ ä¸è¿ç»­ï¼Œåˆ™å½¢æˆä¸€ä¸ªåŒºé—´
        if (end + 1 == numsSize || nums[end] + 1 != nums[end + 1]) {
            // åˆ†é…å•ä¸ªç»“æœå­—ç¬¦ä¸²å†…å­˜
            result[*returnSize] = (char*)malloc(25 * sizeof(char)); // è¶³å¤Ÿå­˜å‚¨ä¸¤ä¸ªintå’Œ"->"
            
            // æ ¹æ®åŒºé—´é•¿åº¦å†³å®šè¾“å‡ºæ ¼å¼
            if (start == end) {
                // å•ä¸ªå…ƒç´ åŒºé—´
                sprintf(result[*returnSize], "%d", nums[start]);
            } else {
                // å¤šä¸ªå…ƒç´ åŒºé—´
                sprintf(result[*returnSize], "%d->%d", nums[start], nums[end]);
            }
            
            (*returnSize)++;  // ç»“æœè®¡æ•°å¢åŠ 
            start = end + 1;  // æ›´æ–°ä¸‹ä¸€ä¸ªåŒºé—´çš„èµ·å§‹ä½ç½®
        }
    }
    
    return result;
}
```

### ğŸ“– æ€»ç»“ï¼š

<details>
<summary>ç‚¹å‡»å±•å¼€é¢˜ç›®æ€»ç»“</summary>
# ğŸ¤” æ±‡æ€»åŒºé—´

---

## 1ï¸âƒ£ é¢˜ç›®æ ¸å¿ƒä¿¡æ¯

ğŸ¯ **åŠŸèƒ½æè¿°**ï¼šå°†æœ‰åºæ•´æ•°æ•°ç»„ä¸­çš„è¿ç»­æ•°å­—åˆå¹¶ä¸ºåŒºé—´è¡¨ç¤º

ğŸ“¥ **è¾“å…¥è¾“å‡º**ï¼š
- **è¾“å…¥**ï¼š`nums` - æœ‰åºæ•´æ•°æ•°ç»„ï¼ˆæ— é‡å¤å…ƒç´ ï¼‰, `numsSize` - æ•°ç»„é•¿åº¦
- **è¾“å‡º**ï¼šè¿”å›åŒºé—´èŒƒå›´å­—ç¬¦ä¸²æ•°ç»„ï¼Œæ¯ä¸ªåŒºé—´æŒ‰ç…§"a->b"æˆ–"a"æ ¼å¼è¡¨ç¤º

---

## 2ï¸âƒ£ å®ç°åŸç†

ğŸ’¡ **æ ¸å¿ƒæ€è·¯**ï¼šä½¿ç”¨åŒæŒ‡é’ˆæŠ€æœ¯è¯†åˆ«è¿ç»­æ•°å­—åŒºé—´

ğŸ“‹ **å®ç°æ­¥éª¤**ï¼š
1. ç‰¹æ®Šæƒ…å†µå¤„ç†ï¼šç©ºæ•°ç»„ç›´æ¥è¿”å›
2. ä½¿ç”¨åŒæŒ‡é’ˆéå†æ•°ç»„ï¼Œstartæ ‡è®°åŒºé—´èµ·ç‚¹ï¼Œendå¯»æ‰¾åŒºé—´ç»ˆç‚¹
3. å½“å‘ç°ä¸è¿ç»­æ•°å­—æ—¶ï¼Œå°†å½“å‰åŒºé—´æ·»åŠ åˆ°ç»“æœä¸­
4. æ ¹æ®åŒºé—´é•¿åº¦å†³å®šè¾“å‡ºæ ¼å¼

---

## 3ï¸âƒ£ å…³é”®ç‚¹è§£æ

### ğŸ¯ ä»£ç æŠ€å·§
- åŒæŒ‡é’ˆæ³•è¯†åˆ«è¿ç»­åŒºé—´
- åˆ©ç”¨`nums[end] + 1 != nums[end + 1]`åˆ¤æ–­è¿ç»­æ€§
- sprintfå‡½æ•°æ ¼å¼åŒ–å­—ç¬¦ä¸²è¾“å‡º

## 4ï¸âƒ£ ä½¿ç”¨åœºæ™¯

### âœ… é€‚ç”¨æƒ…å†µï¼š
- æ•°æ®å‹ç¼©ï¼šå°†è¿ç»­æ•°æ®åˆå¹¶ä¸ºåŒºé—´è¡¨ç¤º
- æ—¥å¿—åˆ†æï¼šå°†è¿ç»­çš„æ—¶é—´æˆ³æˆ–IDåˆå¹¶æ˜¾ç¤º
- æ•°ç»„å¯è§†åŒ–ï¼šç®€åŒ–å¤§é‡è¿ç»­æ•°æ®çš„å±•ç¤º

### âš ï¸ å‰ææ¡ä»¶ï¼š
- è¾“å…¥æ•°ç»„å¿…é¡»æœ‰åº
- æ•°ç»„å…ƒç´ ä¸èƒ½æœ‰é‡å¤

## 5ï¸âƒ£ å¤æ‚åº¦åˆ†æ

- â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œåªéœ€è¦éå†æ•°ç»„ä¸€æ¬¡
- ğŸ’¾ ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œä¸è€ƒè™‘è¾“å‡ºæ•°ç»„çš„è¯åªä½¿ç”¨å¸¸æ•°é¢å¤–ç©ºé—´

## 6ï¸âƒ£ æ³¨æ„äº‹é¡¹

### ğŸš© è¾¹ç•Œæƒ…å†µï¼š
- ç©ºæ•°ç»„
- å•å…ƒç´ æ•°ç»„
- æ‰€æœ‰å…ƒç´ éƒ½æ˜¯è¿ç»­çš„æƒ…å†µ

### ğŸ’¥ æ˜“é”™ç‚¹ï¼š
- å†…å­˜åˆ†é…å¤§å°è®¡ç®—
- åŒºé—´è¾¹ç•Œåˆ¤æ–­æ¡ä»¶
- å­—ç¬¦ä¸²æ ¼å¼åŒ–è¾“å‡º

## 7ï¸âƒ£ è¡¥å……è¯´æ˜


ä»¥ç¤ºä¾‹ `nums = [0,1,2,4,5,7]` æ¥é€æ­¥è¯´æ˜ä»£ç æ‰§è¡Œè¿‡ç¨‹ï¼š

1. **åˆå§‹åŒ–é˜¶æ®µ**ï¼š
   - `result`ï¼šåˆ†é…å†…å­˜ç”¨äºå­˜å‚¨ç»“æœ
   - `returnSize = 0`ï¼šç»“æœè®¡æ•°å™¨åˆå§‹åŒ–
   - `start = 0`ï¼šç¬¬ä¸€ä¸ªåŒºé—´çš„èµ·å§‹ä½ç½®

2. **ç¬¬ä¸€æ¬¡å¾ªç¯ (end=0)**ï¼š
   - æ£€æŸ¥ `nums[0]+1 = 1` æ˜¯å¦ç­‰äº `nums[1] = 1` â†’ ç›¸ç­‰ï¼Œç»§ç»­

3. **ç¬¬äºŒæ¬¡å¾ªç¯ (end=1)**ï¼š
   - æ£€æŸ¥ `nums[1]+1 = 2` æ˜¯å¦ç­‰äº `nums[2] = 2` â†’ ç›¸ç­‰ï¼Œç»§ç»­

4. **ç¬¬ä¸‰æ¬¡å¾ªç¯ (end=2)**ï¼š
   - æ£€æŸ¥ `nums[2]+1 = 3` æ˜¯å¦ç­‰äº `nums[3] = 4` â†’ ä¸ç›¸ç­‰ï¼Œæ‰¾åˆ°åŒºé—´ç»ˆç‚¹
   - å½“å‰åŒºé—´ä¸º `[0,2]`ï¼Œæ ¼å¼åŒ–ä¸º `"0->2"`
   - `result[0] = "0->2"`ï¼Œ`returnSize = 1`
   - æ›´æ–° `start = 3`ï¼ˆä¸‹ä¸€ä¸ªåŒºé—´çš„èµ·ç‚¹ï¼‰

5. **ç¬¬å››æ¬¡å¾ªç¯ (end=3)**ï¼š
   - æ£€æŸ¥ `nums[3]+1 = 5` æ˜¯å¦ç­‰äº `nums[4] = 5` â†’ ç›¸ç­‰ï¼Œç»§ç»­

6. **ç¬¬äº”æ¬¡å¾ªç¯ (end=4)**ï¼š
   - æ£€æŸ¥ `nums[4]+1 = 6` æ˜¯å¦ç­‰äº `nums[5] = 7` â†’ ä¸ç›¸ç­‰ï¼Œæ‰¾åˆ°åŒºé—´ç»ˆç‚¹
   - å½“å‰åŒºé—´ä¸º `[3,4]`ï¼ˆå³`[4,5]`ï¼‰ï¼Œæ ¼å¼åŒ–ä¸º `"4->5"`
   - `result[1] = "4->5"`ï¼Œ`returnSize = 2`
   - æ›´æ–° `start = 5`

7. **ç¬¬å…­æ¬¡å¾ªç¯ (end=5)**ï¼š
   - å·²åˆ°è¾¾æ•°ç»„æœ«å°¾
   - å½“å‰åŒºé—´ä¸º `[5,5]`ï¼ˆå³`[7,7]`ï¼‰ï¼Œæ ¼å¼åŒ–ä¸º `"7"`
   - `result[2] = "7"`ï¼Œ`returnSize = 3`

æœ€ç»ˆç»“æœï¼š`["0->2","4->5","7"]`
</details>
