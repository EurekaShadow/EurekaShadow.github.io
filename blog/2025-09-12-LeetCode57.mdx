---
slug: LeetCode57
title: æ’å…¥åŒºé—´
authors: eurekaX
tags: [æ•°ç»„]
---
import { Highlight, Keyword, Light, B1, B2, B3, BH3, B3W, MyColor} from '@site/src/components/ForMDX';


### <B2>[åŠ›æ‰£é¢è¯•ç»å…¸â€”â€”57é¢˜](https://leetcode.cn/problems/insert-interval/description/?envType=study-plan-v2&envId=top-interview-150 "åŠ›æ‰£")</B2>

<!-- truncate -->


### ğŸ’¡ å‚è€ƒä»£ç ï¼š

```c
/**
 * Return an array of arrays of size *returnSize.
 * The sizes of the arrays are returned as *returnColumnSizes array.
 * Note: Both returned array and *columnSizes array must be malloced, assume caller calls free().
 */

/**
 * æ’å…¥æ–°åŒºé—´å¹¶åˆå¹¶é‡å åŒºé—´
 * @param intervals åŸå§‹åŒºé—´æ•°ç»„
 * @param intervalsSize åŸå§‹åŒºé—´æ•°ç»„å¤§å°
 * @param intervalsColSize åŸå§‹åŒºé—´æ•°ç»„åˆ—å¤§å°
 * @param newInterval æ–°æ’å…¥çš„åŒºé—´
 * @param newIntervalSize æ–°åŒºé—´å¤§å°
 * @param returnSize è¿”å›æ•°ç»„çš„è¡Œæ•°
 * @param returnColumnSizes è¿”å›æ•°ç»„æ¯è¡Œåˆ—æ•°
 * @return åˆå¹¶åçš„åŒºé—´æ•°ç»„
 */
int** insert(int** intervals, int intervalsSize, int* intervalsColSize, int* newInterval, int newIntervalSize, int* returnSize, int** returnColumnSizes) {
    // åˆ†é…ç»“æœæ•°ç»„å†…å­˜ç©ºé—´
    int** result = (int**)malloc(sizeof(int*) * (intervalsSize + 1));
    *returnColumnSizes = (int*)malloc(sizeof(int) * (intervalsSize + 1));
    *returnSize = 0;
    
    int i = 0;
    int index = 0;
    
    // æ­¥éª¤1: å°†æ‰€æœ‰æ–°åŒºé—´å·¦è¾¹ä¸”ä¸é‡å çš„åŒºé—´æ·»åŠ åˆ°ç»“æœä¸­
    // è¿™äº›åŒºé—´æ»¡è¶³: intervals[i][1] < newInterval[0]
    while (i < intervalsSize && intervals[i][1] < newInterval[0]) {
        result[index] = (int*)malloc(sizeof(int) * 2);
        result[index][0] = intervals[i][0];
        result[index][1] = intervals[i][1];
        (*returnColumnSizes)[index] = 2;
        index++;
        i++;
    }
    
    // æ­¥éª¤2: åˆå¹¶æ‰€æœ‰ä¸æ–°åŒºé—´é‡å çš„åŒºé—´
    // é‡å æ¡ä»¶: intervals[i][0] <= newInterval[1]
    while (i < intervalsSize && intervals[i][0] <= newInterval[1]) {
        // æ›´æ–°æ–°åŒºé—´çš„å·¦ç«¯ç‚¹ä¸ºæœ€å°å€¼
        newInterval[0] = fmin(newInterval[0], intervals[i][0]);
        // æ›´æ–°æ–°åŒºé—´çš„å³ç«¯ç‚¹ä¸ºæœ€å¤§å€¼
        newInterval[1] = fmax(newInterval[1], intervals[i][1]);
        i++;
    }
    
    // å°†åˆå¹¶åçš„æ–°åŒºé—´æ·»åŠ åˆ°ç»“æœä¸­
    result[index] = (int*)malloc(sizeof(int) * 2);
    result[index][0] = newInterval[0];
    result[index][1] = newInterval[1];
    (*returnColumnSizes)[index] = 2;
    index++;
    
    // æ­¥éª¤3: å°†æ‰€æœ‰æ–°åŒºé—´å³è¾¹ä¸”ä¸é‡å çš„åŒºé—´æ·»åŠ åˆ°ç»“æœä¸­
    // è¿™äº›åŒºé—´æ»¡è¶³: intervals[i][0] > newInterval[1]
    while (i < intervalsSize) {
        result[index] = (int*)malloc(sizeof(int) * 2);
        result[index][0] = intervals[i][0];
        result[index][1] = intervals[i][1];
        (*returnColumnSizes)[index] = 2;
        index++;
        i++;
    }
    
    *returnSize = index;
    return result;
}
```

### ğŸ“– æ€»ç»“ï¼š

<details>
<summary>ç‚¹å‡»å±•å¼€é¢˜ç›®æ€»ç»“</summary>
# ğŸ¤” æ’å…¥åŒºé—´

---

## 1ï¸âƒ£ é¢˜ç›®æ ¸å¿ƒä¿¡æ¯

ğŸ¯ **åŠŸèƒ½æè¿°**ï¼šåœ¨å·²æ’åºä¸”æ— é‡å çš„åŒºé—´åˆ—è¡¨ä¸­æ’å…¥æ–°åŒºé—´ï¼Œå¹¶ä¿æŒåŒºé—´æœ‰åºä¸”æ— é‡å ï¼ˆå¿…è¦æ—¶åˆå¹¶åŒºé—´ï¼‰

ğŸ“¥ **è¾“å…¥è¾“å‡º**ï¼š
- **è¾“å…¥**ï¼š
  - `intervals`: åŸå§‹åŒºé—´æ•°ç»„ï¼ŒæŒ‰èµ·å§‹ç«¯ç‚¹å‡åºæ’åˆ—ä¸”æ— é‡å 
  - `newInterval`: éœ€è¦æ’å…¥çš„æ–°åŒºé—´
- **è¾“å‡º**ï¼šæ’å…¥å¹¶åˆå¹¶åçš„æ–°åŒºé—´æ•°ç»„

---

## 2ï¸âƒ£ å®ç°åŸç†

ğŸ’¡ **æ ¸å¿ƒæ€è·¯**ï¼šå°†åŒºé—´åˆ†ä¸ºä¸‰éƒ¨åˆ†å¤„ç†â€”â€”å·¦ä¾§ä¸é‡å ã€ä¸­é—´é‡å éœ€è¦åˆå¹¶ã€å³ä¾§ä¸é‡å 

ğŸ“‹ **å®ç°æ­¥éª¤**ï¼š
1. éå†å¹¶æ·»åŠ æ‰€æœ‰åœ¨æ–°åŒºé—´å·¦ä¾§ä¸”ä¸é‡å çš„åŒºé—´
2. åˆå¹¶æ‰€æœ‰ä¸æ–°åŒºé—´é‡å çš„åŒºé—´ï¼Œæ›´æ–°æ–°åŒºé—´çš„è¾¹ç•Œ
3. æ·»åŠ æ‰€æœ‰åœ¨æ–°åŒºé—´å³ä¾§ä¸”ä¸é‡å çš„åŒºé—´
4. è¿”å›åˆå¹¶åçš„ç»“æœæ•°ç»„

---

## 3ï¸âƒ£ å…³é”®ç‚¹è§£æ

### ğŸ¯ ä»£ç æŠ€å·§
- åˆ©ç”¨åŒºé—´å·²æ’åºçš„ç‰¹æ€§ï¼Œé€šè¿‡ä¸€æ¬¡éå†å®Œæˆå¤„ç†
- é€šè¿‡æ¯”è¾ƒåŒºé—´ç«¯ç‚¹åˆ¤æ–­é‡å å…³ç³»ï¼š`intervals[i][1] < newInterval[0]`è¡¨ç¤ºä¸é‡å ï¼Œ`intervals[i][0] <= newInterval[1]`è¡¨ç¤ºé‡å 
- ä½¿ç”¨`fmin`å’Œ`fmax`å‡½æ•°ä¼˜é›…åœ°æ›´æ–°åˆå¹¶åŒºé—´çš„è¾¹ç•Œ

## 4ï¸âƒ£ ä½¿ç”¨åœºæ™¯

### âœ… é€‚ç”¨æƒ…å†µï¼š
- åŒºé—´è°ƒåº¦é—®é¢˜
- æ—¶é—´æ®µåˆå¹¶å¤„ç†
- èµ„æºåˆ†é…ä¼˜åŒ–

### âš ï¸ å‰ææ¡ä»¶ï¼š
- åŸå§‹åŒºé—´æ•°ç»„å·²æŒ‰èµ·å§‹ç«¯ç‚¹å‡åºæ’åˆ—
- åŒºé—´æ— é‡å 

## 5ï¸âƒ£ å¤æ‚åº¦åˆ†æ

- â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­næ˜¯åŸå§‹åŒºé—´æ•°ç»„çš„é•¿åº¦ï¼Œåªéœ€è¦éå†ä¸€æ¬¡æ•°ç»„
- ğŸ’¾ ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œç”¨äºå­˜å‚¨ç»“æœæ•°ç»„

## 6ï¸âƒ£ æ³¨æ„äº‹é¡¹

### ğŸš© è¾¹ç•Œæƒ…å†µï¼š
- ç©ºåŒºé—´æ•°ç»„
- æ–°åŒºé—´æ’å…¥åœ¨æœ€å‰é¢
- æ–°åŒºé—´æ’å…¥åœ¨æœ€åé¢

### ğŸ’¥ æ˜“é”™ç‚¹ï¼š
- é‡å åŒºé—´çš„åˆ¤æ–­æ¡ä»¶å®¹æ˜“å‡ºé”™
- å¿˜è®°å¤„ç†å‰©ä½™çš„åŒºé—´
- å†…å­˜åˆ†é…é”™è¯¯å¯¼è‡´çš„è®¿é—®è¶Šç•Œ

## 7ï¸âƒ£ è¡¥å……è¯´æ˜

**ç¤ºä¾‹**: `intervals = [[1,2],[3,5],[6,7],[8,10],[12,16]]`, `newInterval = [4,8]`

#### 1. åˆå§‹åŒ–ï¼š
- `result`æ•°ç»„ç”¨äºå­˜å‚¨ç»“æœ
- `i = 0`ï¼ˆéå†åŸå§‹æ•°ç»„çš„æŒ‡é’ˆï¼‰
- `index = 0`ï¼ˆç»“æœæ•°ç»„çš„ç´¢å¼•ï¼‰

#### 2. æ­¥éª¤1 - å¤„ç†å·¦ä¾§ä¸é‡å åŒºé—´ï¼š
- æ£€æŸ¥`intervals[0] = [1,2]`ï¼šå› ä¸º`2 < 4`ï¼ˆ`intervals[0][1] < newInterval[0]`ï¼‰ï¼Œæ‰€ä»¥ä¸é‡å 
- å°†`[1,2]`æ·»åŠ åˆ°`result[0]`
- `i = 1`, `index = 1`

#### 3. æ­¥éª¤2 - åˆå¹¶é‡å åŒºé—´ï¼š
- æ£€æŸ¥`intervals[1] = [3,5]`ï¼šå› ä¸º`3 <= 8`ï¼ˆ`intervals[1][0] <= newInterval[1]`ï¼‰ï¼Œæ‰€ä»¥é‡å 
  - æ›´æ–°`newInterval[0] = min(4, 3) = 3`
  - æ›´æ–°`newInterval[1] = max(8, 5) = 8`
  - `i = 2`
- æ£€æŸ¥`intervals[2] = [6,7]`ï¼šå› ä¸º`6 <= 8`ï¼ˆ`intervals[2][0] <= newInterval[1]`ï¼‰ï¼Œæ‰€ä»¥é‡å 
  - `newInterval[0] = min(3, 6) = 3`
  - `newInterval[1] = max(8, 7) = 8`
  - `i = 3`
- æ£€æŸ¥`intervals[3] = [8,10]`ï¼šå› ä¸º`8 <= 8`ï¼ˆ`intervals[3][0] <= newInterval[1]`ï¼‰ï¼Œæ‰€ä»¥é‡å 
  - `newInterval[0] = min(3, 8) = 3`
  - `newInterval[1] = max(8, 10) = 10`
  - `i = 4`
- æ£€æŸ¥`intervals[4] = [12,16]`ï¼šå› ä¸º`12 > 10`ï¼ˆä¸æ»¡è¶³`intervals[4][0] <= newInterval[1]`ï¼‰ï¼Œè·³å‡ºå¾ªç¯
- å°†åˆå¹¶åçš„åŒºé—´`[3,10]`æ·»åŠ åˆ°`result[1]`
- `index = 2`

#### 4. æ­¥éª¤3 - å¤„ç†å³ä¾§ä¸é‡å åŒºé—´ï¼š
- `intervals[4] = [12,16]`ï¼šå› ä¸º`12 > 10`ï¼ˆ`intervals[4][0] > newInterval[1]`ï¼‰ï¼Œä¸é‡å 
- å°†`[12,16]`æ·»åŠ åˆ°`result[2]`
- `i = 5`, `index = 3`

#### 5. æœ€ç»ˆç»“æœï¼š
- `result = [[1,2],[3,10],[12,16]]`
- `returnSize = 3`
</details>
