---
slug: LeetCode1
title: ä¸¤æ•°ä¹‹å’Œ
authors: eurekaX
tags: [æ•°ç»„,å“ˆå¸Œè¡¨]
---
import { Highlight, Keyword, Light, B1, B2, B3, BH3, B3W, MyColor} from '@site/src/components/ForMDX';


### <B2>[åŠ›æ‰£é¢è¯•ç»å…¸â€”â€”1é¢˜](https://leetcode.cn/problems/two-sum/description/?envType=study-plan-v2&envId=top-interview-150 "åŠ›æ‰£")</B2>

<!-- truncate -->


### ğŸ’¡ å‚è€ƒä»£ç ï¼š

```c
#include <stdio.h>
#include <stdlib.h>

// å“ˆå¸Œè¡¨èŠ‚ç‚¹ç»“æ„
typedef struct HashNode {
    int key;            // æ•°ç»„å…ƒç´ å€¼
    int value;          // æ•°ç»„å…ƒç´ ç´¢å¼•
    struct HashNode* next;
} HashNode;

// å“ˆå¸Œè¡¨ç»“æ„
typedef struct {
    HashNode** buckets; // æ¡¶æ•°ç»„
    int size;           // å“ˆå¸Œè¡¨å¤§å°
} HashMap;

// åˆ›å»ºå“ˆå¸Œè¡¨
HashMap* createHashMap(int size) {
    HashMap* map = (HashMap*)malloc(sizeof(HashMap));
    map->size = size;
    map->buckets = (HashNode**)calloc(size, sizeof(HashNode*));
    return map;
}

// å“ˆå¸Œå‡½æ•°
int hash(HashMap* map, int key) {
    // å¤„ç†è´Ÿæ•°æƒ…å†µ
    return abs(key) % map->size;
}

// å‘å“ˆå¸Œè¡¨ä¸­æ·»åŠ å…ƒç´ 
void put(HashMap* map, int key, int value) {
    int bucketIndex = hash(map, key);
    HashNode* node = map->buckets[bucketIndex];
    
    // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨è¯¥key
    while (node != NULL) {
        if (node->key == key) {
            node->value = value; // æ›´æ–°å€¼
            return;
        }
        node = node->next;
    }
    
    // åˆ›å»ºæ–°èŠ‚ç‚¹å¹¶æ’å…¥åˆ°é“¾è¡¨å¤´éƒ¨
    HashNode* newNode = (HashNode*)malloc(sizeof(HashNode));
    newNode->key = key;
    newNode->value = value;
    newNode->next = map->buckets[bucketIndex];
    map->buckets[bucketIndex] = newNode;
}

// ä»å“ˆå¸Œè¡¨ä¸­è·å–å€¼
int get(HashMap* map, int key, bool* found) {
    int bucketIndex = hash(map, key);
    HashNode* node = map->buckets[bucketIndex];
    
    while (node != NULL) {
        if (node->key == key) {
            *found = true;
            return node->value;
        }
        node = node->next;
    }
    
    *found = false;
    return -1;
}

// é‡Šæ”¾å“ˆå¸Œè¡¨å†…å­˜
void freeHashMap(HashMap* map) {
    for (int i = 0; i < map->size; i++) {
        HashNode* node = map->buckets[i];
        while (node != NULL) {
            HashNode* temp = node;
            node = node->next;
            free(temp);
        }
    }
    free(map->buckets);
    free(map);
}

/**
 * ä¸¤æ•°ä¹‹å’Œ - å“ˆå¸Œè¡¨è§£æ³•ï¼ˆè¿›é˜¶è§£æ³•ï¼‰
 * æ—¶é—´å¤æ‚åº¦ï¼šO(n)
 * ç©ºé—´å¤æ‚åº¦ï¼šO(n)
 * 
 * @param nums æ•´æ•°æ•°ç»„
 * @param numsSize æ•°ç»„é•¿åº¦
 * @param target ç›®æ ‡å€¼
 * @param returnSize è¿”å›æ•°ç»„çš„å¤§å°
 * @return è¿”å›ä¸¤ä¸ªå…ƒç´ çš„ç´¢å¼•æ•°ç»„
 */
int* twoSum(int* nums, int numsSize, int target, int* returnSize) {
    // åˆ›å»ºå“ˆå¸Œè¡¨
    HashMap* map = createHashMap(numsSize);
    
    // åˆ†é…è¿”å›æ•°ç»„å†…å­˜
    int* result = (int*)malloc(2 * sizeof(int));
    
    // éå†æ•°ç»„
    for (int i = 0; i < numsSize; i++) {
        int complement = target - nums[i]; // è®¡ç®—è¡¥æ•°
        bool found = false;
        
        // åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾è¡¥æ•°
        int index = get(map, complement, &found);
        
        // å¦‚æœæ‰¾åˆ°äº†è¡¥æ•°ï¼Œè¿”å›ä¸¤ä¸ªç´¢å¼•
        if (found) {
            result[0] = index;
            result[1] = i;
            *returnSize = 2;
            freeHashMap(map); // é‡Šæ”¾å“ˆå¸Œè¡¨å†…å­˜
            return result;
        }
        
        // å°†å½“å‰å…ƒç´ å­˜å…¥å“ˆå¸Œè¡¨
        put(map, nums[i], i);
    }
    
    // æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ç»„åˆï¼ˆé¢˜ç›®ä¿è¯å­˜åœ¨ï¼Œæ­¤è¡Œç†è®ºä¸Šä¸ä¼šæ‰§è¡Œï¼‰
    *returnSize = 0;
    freeHashMap(map);
    return NULL;
}
```

### ğŸ“– æ€»ç»“ï¼š

<details>
<summary>ç‚¹å‡»å±•å¼€é¢˜ç›®æ€»ç»“</summary>
# ğŸ¤” ä¸¤æ•°ä¹‹å’Œ

---

## 1ï¸âƒ£ é¢˜ç›®æ ¸å¿ƒä¿¡æ¯

ğŸ¯ **åŠŸèƒ½æè¿°**ï¼šåœ¨ç»™å®šæ•´æ•°æ•°ç»„ä¸­æ‰¾åˆ°ä¸¤ä¸ªæ•°ï¼Œä½¿å…¶å’Œç­‰äºç›®æ ‡å€¼ï¼Œå¹¶è¿”å›è¿™ä¸¤ä¸ªæ•°çš„ç´¢å¼•

ğŸ“¥ **è¾“å…¥è¾“å‡º**ï¼š
- **è¾“å…¥**ï¼š
  - `nums`: æ•´æ•°æ•°ç»„
  - `numsSize`: æ•°ç»„é•¿åº¦
  - `target`: ç›®æ ‡å’Œå€¼
- **è¾“å‡º**ï¼š
  - è¿”å›åŒ…å«ä¸¤ä¸ªç´¢å¼•çš„æ•°ç»„
  - `returnSize`: è¿”å›æ•°ç»„çš„å¤§å°ï¼ˆè®¾ç½®ä¸º2ï¼‰

---

## 2ï¸âƒ£ å®ç°åŸç†

ğŸ’¡ **æ ¸å¿ƒæ€è·¯**ï¼šä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨å·²éå†å…ƒç´ çš„å€¼å’Œç´¢å¼•ï¼Œå°†æŸ¥æ‰¾æ—¶é—´ä»O(n)é™ä½åˆ°O(1)

ğŸ“‹ **å®ç°æ­¥éª¤**ï¼š
1. éå†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ 
2. è®¡ç®—å½“å‰å…ƒç´ ä¸ç›®æ ‡å€¼çš„å·®å€¼ï¼ˆè¡¥æ•°ï¼‰
3. åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾è¯¥è¡¥æ•°æ˜¯å¦å­˜åœ¨
4. è‹¥å­˜åœ¨åˆ™è¿”å›ä¸¤ä¸ªç´¢å¼•ï¼Œå¦åˆ™å°†å½“å‰å…ƒç´ å­˜å…¥å“ˆå¸Œè¡¨

---

## 3ï¸âƒ£ å…³é”®ç‚¹è§£æ

åŸå§‹æ€è·¯å¯èƒ½æ˜¯æš´åŠ›åŒé‡å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦O(nÂ²)ã€‚å“ˆå¸Œè¡¨ä¼˜åŒ–åæ—¶é—´å¤æ‚åº¦é™ä¸ºO(n)ï¼Œä½†éœ€è¦é¢å¤–O(n)ç©ºé—´ã€‚

### ğŸ¯ ä»£ç æŠ€å·§
- ä½¿ç”¨å“ˆå¸Œè¡¨ä¼˜åŒ–æŸ¥æ‰¾æ—¶é—´
- è¾¹éå†è¾¹å­˜å‚¨ï¼Œé¿å…é‡å¤è®¡ç®—
- åˆç†è®¾è®¡å“ˆå¸Œå‡½æ•°å¤„ç†è´Ÿæ•°æƒ…å†µ

## 4ï¸âƒ£ ä½¿ç”¨åœºæ™¯

### âœ… é€‚ç”¨æƒ…å†µï¼š
- åœ¨å¤§æ•°æ®é›†ä¸­å¿«é€ŸæŸ¥æ‰¾ä¸¤æ•°ä¹‹å’Œ
- éœ€è¦é¢‘ç¹è¿›è¡Œæ­¤ç±»æŸ¥è¯¢çš„åœºæ™¯
- å¯¹æ—¶é—´å¤æ‚åº¦æœ‰è¾ƒé«˜è¦æ±‚çš„æƒ…å†µ

### âš ï¸ å‰ææ¡ä»¶ï¼š
- è¾“å…¥æ•°ç»„è‡³å°‘åŒ…å«ä¸¤ä¸ªå…ƒç´ 
- å­˜åœ¨å”¯ä¸€è§£ï¼ˆé¢˜ç›®ä¿è¯ï¼‰
- åŒä¸€å…ƒç´ ä¸èƒ½ä½¿ç”¨ä¸¤æ¬¡

## 5ï¸âƒ£ å¤æ‚åº¦åˆ†æ

- â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(n) - åªéœ€éå†æ•°ç»„ä¸€æ¬¡
- ğŸ’¾ ç©ºé—´å¤æ‚åº¦ï¼šO(n) - å“ˆå¸Œè¡¨æœ€å¤šå­˜å‚¨nä¸ªå…ƒç´ 

## 6ï¸âƒ£ æ³¨æ„äº‹é¡¹

### ğŸš© è¾¹ç•Œæƒ…å†µï¼š
- æ•°ç»„ä¸­å­˜åœ¨è´Ÿæ•°
- ç›®æ ‡å€¼ä¸º0æˆ–è´Ÿæ•°
- æ•°ç»„ä¸­å­˜åœ¨ç›¸åŒå…ƒç´ 

### ğŸ’¥ æ˜“é”™ç‚¹ï¼š
- è¿”å›æ•°ç»„çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾
- å“ˆå¸Œå†²çªçš„å¤„ç†
- æœªæ­£ç¡®è®¾ç½®returnSizeå‚æ•°

## 7ï¸âƒ£ è¡¥å……è¯´æ˜
ä»¥ç¤ºä¾‹2ä¸ºä¾‹ï¼š`nums = [3,2,4]`, `target = 6`
#### ç®—æ³•æ‰§è¡Œæ­¥éª¤æ¼”ç¤º
```c
int nums[] = {3, 2, 4};
int target = 6;
int numsSize = 3;
int returnSize;
```
#### ç¬¬1æ­¥ï¼šåˆå§‹åŒ–
- åˆ›å»ºç©ºå“ˆå¸Œè¡¨
- å¼€å§‹éå†æ•°ç»„ï¼Œ`i = 0`
- å½“å‰å…ƒç´ ï¼š`nums[0] = 3`
- è®¡ç®—è¡¥æ•°ï¼š`complement = target - nums[0] = 6 - 3 = 3`
- åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾`3`ï¼šæœªæ‰¾åˆ°
- å°†`(3, 0)`å­˜å…¥å“ˆå¸Œè¡¨
#### å“ˆå¸Œè¡¨ç°çŠ¶ï¼š
```c
Key: 3 â†’ Value: 0
```
#### ç¬¬2æ­¥ï¼šç»§ç»­éå†
- `i = 1`
- å½“å‰å…ƒç´ ï¼š`nums[1] = 2`
- è®¡ç®—è¡¥æ•°ï¼š`complement = target - nums[1] = 6 - 2 = 4`
- åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾`4`ï¼šæœªæ‰¾åˆ°
- å°†`(2, 1)`å­˜å…¥å“ˆå¸Œè¡¨
#### å“ˆå¸Œè¡¨ç°çŠ¶ï¼š
```
Key: 3 â†’ Value: 0
Key: 2 â†’ Value: 1
```
#### ç¬¬3æ­¥ï¼šæ‰¾åˆ°ç»“æœ
- `i = 2`
- å½“å‰å…ƒç´ ï¼š`nums[2] = 4`
- è®¡ç®—è¡¥æ•°ï¼š`complement = target - nums[2] = 6 - 4 = 2`
- åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾`2`ï¼šæ‰¾åˆ°ï¼Œå¯¹åº”ç´¢å¼•ä¸º`1`
- è¿”å›ç»“æœï¼š`[1, 2]`
#### å¯è§†åŒ–æ‰§è¡Œè¿‡ç¨‹
```
éå†è¿‡ç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤   â”‚ ç´¢å¼•i  â”‚ nums[i]  â”‚ complement â”‚ å“ˆå¸Œè¡¨æ“ä½œ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1      â”‚ 0      â”‚ 3        â”‚ 3          â”‚ å­˜å…¥(3,0)       â”‚
â”‚ 2      â”‚ 1      â”‚ 2        â”‚ 4          â”‚ å­˜å…¥(2,1)       â”‚
â”‚ 3      â”‚ 2      â”‚ 4        â”‚ 2          â”‚ æŸ¥æ‰¾2â†’æ‰¾åˆ°ç´¢å¼•1 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æœ€ç»ˆè¿”å›: [1, 2]
éªŒè¯: nums[1] + nums[2] = 2 + 4 = 6 âœ“
```
#### ç®—æ³•æ ¸å¿ƒæ€æƒ³
é€šè¿‡å“ˆå¸Œè¡¨è®°å½•"å€¼->ç´¢å¼•"çš„æ˜ å°„å…³ç³»ï¼Œå°†"æŸ¥æ‰¾å¦ä¸€ä¸ªåŠ æ•°"çš„æ—¶é—´å¤æ‚åº¦ä»O(n)é™ä½åˆ°O(1)ã€‚æ•´ä¸ªç®—æ³•åªéœ€ä¸€æ¬¡éå†å³å¯å®Œæˆï¼Œå¤§å¤§æé«˜äº†æ•ˆç‡ã€‚

</details>
