---
slug: LeetCode169
title: å¤šæ•°å…ƒç´ 
authors: eurekaX
tags: [æ•°ç»„]
---
import { Highlight, Keyword, Light, B1, B2, B3, BH3, B3W, MyColor} from '@site/src/components/ForMDX';


### <B2>[åŠ›æ‰£é¢è¯•ç»å…¸â€”â€”169é¢˜](https://leetcode.cn/problems/majority-element/?envType=study-plan-v2&envId=top-interview-150 "åŠ›æ‰£")</B2>

<!-- truncate -->


### ğŸ’¡ å‚è€ƒä»£ç ï¼š

```c
/**
 * æŸ¥æ‰¾æ•°ç»„ä¸­çš„å¤šæ•°å…ƒç´ ï¼ˆå‡ºç°æ¬¡æ•°å¤§äºâŒŠn/2âŒ‹çš„å…ƒç´ ï¼‰
 * ä½¿ç”¨Boyer-MooreæŠ•ç¥¨ç®—æ³•å®ç°
 * 
 * @param nums æ•´æ•°æ•°ç»„æŒ‡é’ˆ
 * @param numsSize æ•°ç»„é•¿åº¦
 * @return è¿”å›å¤šæ•°å…ƒç´ 
 */
int majorityElement(int* nums, int numsSize) {
    // åˆå§‹åŒ–å€™é€‰äººä¸ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè®¡æ•°ä¸º1
    int candidate = nums[0];
    int count = 1;
    
    // æŠ•ç¥¨é˜¶æ®µï¼šéå†æ•°ç»„ä¸­å‰©ä½™çš„æ‰€æœ‰å…ƒç´ 
    for (int i = 1; i < numsSize; i++) {
        // å¦‚æœè®¡æ•°ä¸º0ï¼Œæ›´æ¢å€™é€‰äºº
        if (count == 0) {
            candidate = nums[i];  // è®¾ç½®æ–°çš„å€™é€‰äºº
            count = 1;            // é‡ç½®è®¡æ•°ä¸º1
        } 
        // å¦‚æœå½“å‰å…ƒç´ ä¸å€™é€‰äººç›¸åŒï¼Œè®¡æ•°åŠ 1
        else if (nums[i] == candidate) {
            count++;
        } 
        // å¦‚æœå½“å‰å…ƒç´ ä¸å€™é€‰äººä¸åŒï¼Œè®¡æ•°å‡1ï¼ˆç›¸å½“äºæŠµæ¶ˆï¼‰
        else {
            count--;
        }
    }
    
    // è¿”å›æœ€ç»ˆçš„å€™é€‰äººï¼ˆå¤šæ•°å…ƒç´ ï¼‰
    return candidate;
}
```

### ğŸ“– æ€»ç»“ï¼š

<details>
<summary>ç‚¹å‡»å±•å¼€é¢˜ç›®æ€»ç»“</summary>
# ğŸ¤” å¤šæ•°å…ƒç´ 

---

## 1ï¸âƒ£ é¢˜ç›®æ ¸å¿ƒä¿¡æ¯

ğŸ¯ **åŠŸèƒ½æè¿°**ï¼šç»™å®šä¸€ä¸ªå¤§å°ä¸º n çš„æ•°ç»„ï¼Œæ‰¾åˆ°å…¶ä¸­çš„å¤šæ•°å…ƒç´ ã€‚å¤šæ•°å…ƒç´ æ˜¯æŒ‡åœ¨æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°å¤§äº âŒŠ n/2 âŒ‹ çš„å…ƒç´ ã€‚

ğŸ“¥ **è¾“å…¥è¾“å‡º**ï¼š
- **è¾“å…¥**ï¼š`int* nums`ï¼ˆæ•´æ•°æ•°ç»„æŒ‡é’ˆï¼‰ï¼Œ`int numsSize`ï¼ˆæ•°ç»„é•¿åº¦ï¼‰
- **è¾“å‡º**ï¼šè¿”å›å¤šæ•°å…ƒç´ ï¼ˆä¿è¯å­˜åœ¨ï¼‰

---

## 2ï¸âƒ£ å®ç°åŸç†

ğŸ’¡ **æ ¸å¿ƒæ€è·¯**ï¼šä½¿ç”¨Boyer-MooreæŠ•ç¥¨ç®—æ³•ï¼Œåˆ©ç”¨å¤šæ•°å…ƒç´ å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„ç‰¹æ€§ï¼Œé€šè¿‡"æŠ•ç¥¨æŠµæ¶ˆ"æœºåˆ¶æ‰¾åˆ°ç›®æ ‡å…ƒç´ ã€‚

ğŸ“‹ **å®ç°æ­¥éª¤**ï¼š
1. åˆå§‹åŒ–å€™é€‰å…ƒç´ ä¸ºæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè®¡æ•°å™¨ä¸º1
2. éå†æ•°ç»„å‰©ä½™å…ƒç´ 
3. è‹¥è®¡æ•°å™¨ä¸º0ï¼Œæ›´æ–°å€™é€‰å…ƒç´ ä¸ºå½“å‰å…ƒç´ ï¼Œè®¡æ•°å™¨é‡ç½®ä¸º1
4. è‹¥å½“å‰å…ƒç´ ç­‰äºå€™é€‰å…ƒç´ ï¼Œè®¡æ•°å™¨åŠ 1
5. è‹¥å½“å‰å…ƒç´ ä¸ç­‰äºå€™é€‰å…ƒç´ ï¼Œè®¡æ•°å™¨å‡1
6. è¿”å›æœ€ç»ˆå€™é€‰å…ƒç´ 

---

## 3ï¸âƒ£ å…³é”®ç‚¹è§£æ

åŸå§‹æ€è·¯æ˜¯ä½¿ç”¨åŒé‡å¾ªç¯ç»Ÿè®¡æ¯ä¸ªå…ƒç´ å‡ºç°æ¬¡æ•°ï¼Œæ—¶é—´å¤æ‚åº¦O(nÂ²)ï¼Œè™½ç„¶æ­£ç¡®ä½†æ•ˆç‡ä½ã€‚æœ€ä¼˜è§£ä½¿ç”¨Boyer-MooreæŠ•ç¥¨ç®—æ³•ï¼Œæ—¶é—´å¤æ‚åº¦é™ä¸ºO(n)ï¼Œç©ºé—´å¤æ‚åº¦O(1)ã€‚

### ğŸ¯ ä»£ç æŠ€å·§
- åˆ©ç”¨å¤šæ•°å…ƒç´ è¶…è¿‡ä¸€åŠçš„æ•°å­¦ç‰¹æ€§
- é‡‡ç”¨æŠµæ¶ˆæ€æƒ³ï¼Œç›¸åŒ+1ï¼Œä¸åŒ-1
- æ— éœ€å®é™…ç»Ÿè®¡æ¬¡æ•°ï¼Œåªéœ€æ‰¾åˆ°å€™é€‰å…ƒç´ 

## 4ï¸âƒ£ ä½¿ç”¨åœºæ™¯

### âœ… é€‚ç”¨æƒ…å†µï¼š
- éœ€è¦æ‰¾åˆ°å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„å…ƒç´ 
- æ•°æ®æµä¸­æŸ¥æ‰¾å¤šæ•°å…ƒç´ 
- åœ¨çº¿ç®—æ³•åœºæ™¯ï¼Œéœ€è¦å®æ—¶å¤„ç†

### âš ï¸ å‰ææ¡ä»¶ï¼š
- æ•°ç»„éç©º
- ä¿è¯å­˜åœ¨å¤šæ•°å…ƒç´ ï¼ˆå‡ºç°æ¬¡æ•°>n/2ï¼‰

## 5ï¸âƒ£ å¤æ‚åº¦åˆ†æ

- â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(n) - åªéœ€éå†æ•°ç»„ä¸€æ¬¡

- ğŸ’¾ ç©ºé—´å¤æ‚åº¦ï¼šO(1) - åªä½¿ç”¨å¸¸æ•°é¢å¤–ç©ºé—´

## 6ï¸âƒ£ æ³¨æ„äº‹é¡¹

### ğŸš© è¾¹ç•Œæƒ…å†µï¼š
- æ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´ 
- å¤šæ•°å…ƒç´ åˆšå¥½å‡ºç°âŒŠn/2âŒ‹+1æ¬¡
- æ•°ç»„é•¿åº¦ä¸ºå¶æ•°æˆ–å¥‡æ•°çš„æƒ…å†µ

### ğŸ’¥ æ˜“é”™ç‚¹ï¼š
- å¿˜è®°å¤„ç†è®¡æ•°å™¨ä¸º0æ—¶çš„å€™é€‰å…ƒç´ æ›´æ–°
- æ··æ·†å¤šæ•°å…ƒç´ çš„åˆ¤æ–­æ¡ä»¶ï¼ˆ>n/2è€Œéâ‰¥n/2ï¼‰
- åœ¨å®é™…åº”ç”¨ä¸­æœªéªŒè¯ç»“æœç¡®å®ä¸ºå¤šæ•°å…ƒç´ 

## 7ï¸âƒ£ è¡¥å……è¯´æ˜

**"æˆ˜åœºå¯¹å†³"ç±»æ¯”**
```c
/**
 * å¤šæ•°å…ƒç´ æŸ¥æ‰¾ - Boyer-MooreæŠ•ç¥¨ç®—æ³•è¯¦è§£
 * 
 * æ ¸å¿ƒæ€æƒ³ï¼šå¤šæ•°å…ƒç´ çš„æ•°é‡è¶…è¿‡æ€»æ•°çš„ä¸€åŠ
 * å°±åƒä¸€æ”¯å†›é˜Ÿäººæ•°è¶…è¿‡æ€»å…µåŠ›çš„50%ï¼Œå³ä½¿ä¸å…¶ä»–æ‰€æœ‰å†›é˜Ÿä¸€å¯¹ä¸€æˆ˜æ–—ï¼Œ
 * æœ€åå‰©ä¸‹çš„è‚¯å®šè¿˜æ˜¯è¿™æ”¯å†›é˜Ÿçš„äºº
 */
int majorityElement(int* nums, int numsSize) {
    // åˆå§‹æ—¶ï¼Œæˆ‘ä»¬å‡è®¾ç¬¬ä¸€ä¸ªå£«å…µï¼ˆæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰æ˜¯æˆ‘ä»¬è¦æ‰¾çš„å†›é˜Ÿ
    int candidate = nums[0];  // å½“å‰å€™é€‰å†›é˜Ÿ
    int count = 1;            // å½“å‰å†›é˜Ÿçš„å£«å…µæ•°é‡ï¼ˆåˆå§‹ä¸º1ï¼‰
    
    // ä»ç¬¬äºŒä¸ªå£«å…µå¼€å§‹æ£€é˜…æ•´ä¸ªå†›é˜Ÿ
    for (int i = 1; i < numsSize; i++) {
        // å¦‚æœæˆ˜åœºä¸Šæ²¡æœ‰å£«å…µäº†ï¼ˆcountä¸º0ï¼‰
        if (count == 0) {
            // æ›´æ¢å€™é€‰å†›é˜Ÿä¸ºå½“å‰é‡åˆ°çš„å£«å…µæ‰€å±å†›é˜Ÿ
            candidate = nums[i];  // æ–°çš„å€™é€‰å†›é˜Ÿ
            count = 1;            // è¿™æ”¯å†›é˜Ÿå½“å‰æœ‰1ä¸ªå£«å…µ
        } 
        // å¦‚æœå½“å‰å£«å…µå±äºæˆ‘ä»¬æ­£åœ¨è¿½è¸ªçš„å€™é€‰å†›é˜Ÿ
        else if (nums[i] == candidate) {
            count++;  // è¯¥å†›é˜Ÿå£«å…µæ•°é‡+1
        } 
        // å¦‚æœå½“å‰å£«å…µå±äºå…¶ä»–å†›é˜Ÿï¼ˆæ•Œå¯¹å†›é˜Ÿï¼‰
        else {
            count--;  // æˆ‘ä»¬å€™é€‰å†›é˜Ÿçš„å£«å…µä¸æ•Œå†›å£«å…µåŒå½’äºå°½ï¼Œæ•°é‡-1
        }
    }
    
    // æœ€ç»ˆå‰©ä¸‹çš„å€™é€‰å†›é˜Ÿå°±æ˜¯å¤šæ•°å†›é˜Ÿï¼ˆå¤šæ•°å…ƒç´ ï¼‰
    return candidate;
}
```

**å…·ä½“ä¾‹å­æ¼”ç¤º**

ä»¥æ•°ç»„ `[2,2,1,1,1,2,2]` ä¸ºä¾‹ï¼š

| æ­¥éª¤ | å½“å‰å…ƒç´  | candidate | count | è¯´æ˜ |
|------|----------|-----------|-------|------|
| åˆå§‹ | - | 2 | 1 | å‡è®¾ç¬¬ä¸€ä¸ªå…ƒç´ 2æ˜¯å¤šæ•°å…ƒç´  |
| i=1 | 2 | 2 | 2 | é‡åˆ°ç›¸åŒå…ƒç´ ï¼Œcount++ |
| i=2 | 1 | 2 | 1 | é‡åˆ°ä¸åŒå…ƒç´ ï¼Œcount--ï¼ˆ2å’Œ1æŠµæ¶ˆï¼‰ |
| i=3 | 1 | 2 | 0 | å†æ¬¡æŠµæ¶ˆï¼Œcountå˜ä¸º0 |
| i=4 | 1 | 1 | 1 | countä¸º0ï¼Œæ›´æ¢å€™é€‰å…ƒç´ ä¸º1 |
| i=5 | 2 | 1 | 0 | 1å’Œ2æŠµæ¶ˆï¼Œcountå˜ä¸º0 |
| i=6 | 2 | 2 | 1 | countä¸º0ï¼Œæ›´æ¢å€™é€‰å…ƒç´ ä¸º2 |
</details>
