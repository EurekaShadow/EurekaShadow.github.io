---
slug: LeetCode219
title: å­˜åœ¨é‡å¤å…ƒç´ â…¡
authors: eurekaX
tags: [æ•°ç»„,å“ˆå¸Œè¡¨,æ»‘åŠ¨çª—å£]
---
import { Highlight, Keyword, Light, B1, B2, B3, BH3, B3W, MyColor} from '@site/src/components/ForMDX';


### <B2>[åŠ›æ‰£é¢è¯•ç»å…¸â€”â€”219é¢˜](https://leetcode.cn/problems/contains-duplicate-ii/description/?envType=study-plan-v2&envId=top-interview-150 "åŠ›æ‰£")</B2>

<!-- truncate -->


### ğŸ’¡ å‚è€ƒä»£ç ï¼š

```c
/**
 * åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„ç´¢å¼• i å’Œ jï¼Œ
 * æ»¡è¶³ nums[i] == nums[j] ä¸” abs(i - j) <= k
 *
 * @param nums æ•´æ•°æ•°ç»„
 * @param numsSize æ•°ç»„é•¿åº¦
 * @param k é™åˆ¶ç´¢å¼•å·®å€¼çš„æ•´æ•°
 * @return å¦‚æœå­˜åœ¨æ»¡è¶³æ¡ä»¶çš„ä¸¤ä¸ªç´¢å¼•è¿”å›trueï¼Œå¦åˆ™è¿”å›false
 */
bool containsNearbyDuplicate(int* nums, int numsSize, int k) {
    // éå†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ 
    for (int i = 0; i < numsSize; i++) {
        // æ£€æŸ¥å½“å‰å…ƒç´ åé¢æœ€å¤škä¸ªä½ç½®å†…çš„å…ƒç´ 
        // ç¡®ä¿ç´¢å¼•ä¸è¶Šç•Œï¼Œjä»i+1å¼€å§‹åˆ°min(i+k+1, numsSize)
        for (int j = i + 1; j <= i + k && j < numsSize; j++) {
            // å¦‚æœæ‰¾åˆ°ç›¸ç­‰çš„å…ƒç´ ï¼Œä¸”ç´¢å¼•å·®å€¼ä¸è¶…è¿‡kï¼Œåˆ™è¿”å›true
            if (nums[i] == nums[j]) {
                return true;
            }
        }
    }
    
    // éå†å®Œæˆåæœªæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„å…ƒç´ å¯¹ï¼Œè¿”å›false
    return false;
}
```

### ğŸ“– æ€»ç»“ï¼š

<details>
<summary>ç‚¹å‡»å±•å¼€é¢˜ç›®æ€»ç»“</summary>
# ğŸ¤” [å­˜åœ¨é‡å¤å…ƒç´  II](https://leetcode.cn/problems/contains-duplicate-ii/)

---

## 1ï¸âƒ£ é¢˜ç›®æ ¸å¿ƒä¿¡æ¯

ğŸ¯ **åŠŸèƒ½æè¿°**ï¼šåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„ç´¢å¼• i å’Œ jï¼Œæ»¡è¶³ nums[i] == nums[j] ä¸” abs(i - j) <= k

ğŸ“¥ **è¾“å…¥è¾“å‡º**ï¼š
- **è¾“å…¥**ï¼š
  - `nums`: æ•´æ•°æ•°ç»„
  - `k`: é™åˆ¶ç´¢å¼•å·®å€¼çš„æ•´æ•°
- **è¾“å‡º**ï¼šå¦‚æœå­˜åœ¨æ»¡è¶³æ¡ä»¶çš„ä¸¤ä¸ªç´¢å¼•è¿”å› trueï¼Œå¦åˆ™è¿”å› false

---

## 2ï¸âƒ£ å®ç°åŸç†

ğŸ’¡ **æ ¸å¿ƒæ€è·¯**ï¼šé€šè¿‡åŒé‡å¾ªç¯éå†æ•°ç»„ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ æ£€æŸ¥å…¶åæœ€å¤š k ä¸ªä½ç½®æ˜¯å¦å­˜åœ¨ç›¸åŒå…ƒç´ 

ğŸ“‹ **å®ç°æ­¥éª¤**ï¼š
1. å¤–å±‚å¾ªç¯éå†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ 
2. å†…å±‚å¾ªç¯æ£€æŸ¥å½“å‰å…ƒç´ åé¢æœ€å¤š k ä¸ªä½ç½®çš„å…ƒç´ 
3. å¦‚æœæ‰¾åˆ°å€¼ç›¸ç­‰çš„å…ƒç´ ï¼Œç›´æ¥è¿”å› true
4. éå†å®Œæˆæœªæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„å…ƒç´ å¯¹ï¼Œè¿”å› false

---

## 3ï¸âƒ£ å…³é”®ç‚¹è§£æ

### ğŸ¯ ä»£ç æŠ€å·§
- ä½¿ç”¨åŒé‡å¾ªç¯æ§åˆ¶ç´¢å¼•èŒƒå›´ï¼Œå†…å±‚å¾ªç¯ä¸Šé™ä¸º `i+k` å’Œ `numsSize-1` çš„è¾ƒå°å€¼
- åˆ©ç”¨çŸ­è·¯æ±‚å€¼é¿å…æ•°ç»„è¶Šç•Œè®¿é—®
- é€šè¿‡é™åˆ¶å†…å±‚å¾ªç¯èŒƒå›´ä¼˜åŒ–ä¸å¿…è¦çš„æ¯”è¾ƒ

## 4ï¸âƒ£ ä½¿ç”¨åœºæ™¯

### âœ… é€‚ç”¨æƒ…å†µï¼š
- åœ¨å›ºå®šçª—å£å¤§å°å†…æŸ¥æ‰¾é‡å¤å…ƒç´ 
- æ•°ç»„å»é‡æ£€æŸ¥ä¸”å…è®¸ç‰¹å®šè·ç¦»å†…çš„é‡å¤
- æ»‘åŠ¨çª—å£ç›¸å…³é—®é¢˜

### âš ï¸ å‰ææ¡ä»¶ï¼š
- æ•°ç»„é•¿åº¦å¤§äºç­‰äº1
- kå€¼éè´Ÿ

## 5ï¸âƒ£ å¤æ‚åº¦åˆ†æ

- â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(nÃ—min(k,n))ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„é•¿åº¦ï¼Œæœ€åæƒ…å†µä¸‹éœ€è¦å¯¹æ¯ä¸ªå…ƒç´ æ£€æŸ¥æœ€å¤š k ä¸ªåç»­å…ƒç´ 

- ğŸ’¾ ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œåªä½¿ç”¨äº†å¸¸æ•°é¢å¤–ç©ºé—´

## 6ï¸âƒ£ æ³¨æ„äº‹é¡¹

### ğŸš© è¾¹ç•Œæƒ…å†µï¼š
- æ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´ 
- kå€¼ä¸º0çš„æƒ…å†µ
- kå€¼å¤§äºç­‰äºæ•°ç»„é•¿åº¦çš„æƒ…å†µ

### ğŸ’¥ æ˜“é”™ç‚¹ï¼š
- å¿˜è®°æ£€æŸ¥æ•°ç»„è¾¹ç•Œå¯¼è‡´è¶Šç•Œè®¿é—®
- è¯¯è§£é¢˜æ„ï¼Œæ²¡æœ‰æ­£ç¡®ç†è§£ abs(i-j) <= k çš„å«ä¹‰
- å¾ªç¯æ¡ä»¶è®¾ç½®é”™è¯¯ï¼Œå¯èƒ½å¯¼è‡´é—æ¼æˆ–é‡å¤æ¯”è¾ƒ

## 7ï¸âƒ£ è¡¥å……è¯´æ˜

**è¾“å…¥**: `nums = [1,0,1,1]`, `k = 1`

1. **i = 0** (`nums[0] = 1`):
   - å†…å±‚å¾ªç¯ j ä» 1 åˆ° min(0+1, 3) = 1
   - `j = 1`: `nums[1] = 0`, `1 != 0`, ç»§ç»­
   - æ— åŒ¹é…

2. **i = 1** (`nums[1] = 0`):
   - å†…å±‚å¾ªç¯ j ä» 2 åˆ° min(1+1, 3) = 2
   - `j = 2`: `nums[2] = 1`, `0 != 1`, ç»§ç»­
   - æ— åŒ¹é…

3. **i = 2** (`nums[2] = 1`):
   - å†…å±‚å¾ªç¯ j ä» 3 åˆ° min(2+1, 3) = 3
   - `j = 3`: `nums[3] = 1`, `1 == 1`, æ‰¾åˆ°åŒ¹é…!
   - æ£€æŸ¥ç´¢å¼•å·®å€¼: `|2-3| = 1 <= 1` âœ“
   - è¿”å› `true`

è¿™ä¸ªä¾‹å­ä¸­ï¼Œç´¢å¼• 2 å’Œ 3 å¤„çš„å…ƒç´ éƒ½ä¸º 1ï¼Œä¸”å®ƒä»¬çš„ç´¢å¼•å·®å€¼ä¸º 1ï¼Œä¸å¤§äº k=1ï¼Œå› æ­¤å‡½æ•°è¿”å› trueã€‚
</details>
