---
slug: LeetCode151
title: åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯
authors: eurekaX
tags: [å­—ç¬¦ä¸²]
---
import { Highlight, Keyword, Light, B1, B2, B3, BH3, B3W, MyColor} from '@site/src/components/ForMDX';


### <B2>[åŠ›æ‰£é¢è¯•ç»å…¸â€”â€”151é¢˜](https://leetcode.cn/problems/reverse-words-in-a-string/description/?envType=study-plan-v2&envId=top-interview-150 "åŠ›æ‰£")</B2>

<!-- truncate -->


### ğŸ’¡ å‚è€ƒä»£ç ï¼š

```c

/**
 * ç§»é™¤å­—ç¬¦ä¸²ä¸­çš„å¤šä½™ç©ºæ ¼
 * @param s è¾“å…¥å­—ç¬¦ä¸²
 * @return å¤„ç†åçš„å­—ç¬¦ä¸²é•¿åº¦
 */
int removeExtraSpaces(char* s) {
    int slow = 0;
    int fast = 0;
    
    // è·³è¿‡å‰å¯¼ç©ºæ ¼
    while (s[fast] == ' ') {
        fast++;
    }
    
    // å¤„ç†ä¸­é—´éƒ¨åˆ†ï¼šç§»é™¤å•è¯é—´å¤šä½™çš„ç©ºæ ¼
    while (fast < strlen(s)) {
        // å¦‚æœå½“å‰å­—ç¬¦ä¸æ˜¯ç©ºæ ¼ï¼Œæˆ–è€…æ˜¯ç¬¬ä¸€ä¸ªç©ºæ ¼ï¼Œåˆ™ä¿ç•™
        if (s[fast] != ' ' || (fast > 0 && s[fast - 1] != ' ')) {
            s[slow++] = s[fast];
        }
        fast++;
    }
    
    // å¤„ç†ç»“å°¾å¯èƒ½çš„ç©ºæ ¼
    if (slow > 0 && s[slow - 1] == ' ') {
        slow--;
    }
    
    s[slow] = '\0';  // æ·»åŠ å­—ç¬¦ä¸²ç»“æŸç¬¦
    return slow;
}

/**
 * åè½¬å­—ç¬¦ä¸²æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦
 * @param s å­—ç¬¦ä¸²
 * @param start èµ·å§‹ä½ç½®ï¼ˆåŒ…å«ï¼‰
 * @param end ç»“æŸä½ç½®ï¼ˆåŒ…å«ï¼‰
 */
void reverseString(char* s, int start, int end) {
    while (start < end) {
        char temp = s[start];
        s[start] = s[end];
        s[end] = temp;
        start++;
        end--;
    }
}

/**
 * åè½¬å­—ç¬¦ä¸²ä¸­å•è¯çš„é¡ºåº
 * @param s è¾“å…¥å­—ç¬¦ä¸²
 * @return åè½¬åçš„å­—ç¬¦ä¸²
 */
char* reverseWords(char* s) {
    // ç¬¬ä¸€æ­¥ï¼šç§»é™¤å¤šä½™ç©ºæ ¼
    int len = removeExtraSpaces(s);
    
    // ç¬¬äºŒæ­¥ï¼šåè½¬æ•´ä¸ªå­—ç¬¦ä¸²
    reverseString(s, 0, len - 1);
    
    // ç¬¬ä¸‰æ­¥ï¼šåè½¬æ¯ä¸ªå•è¯
    int start = 0;
    for (int i = 0; i <= len; i++) {
        // é‡åˆ°ç©ºæ ¼æˆ–å­—ç¬¦ä¸²ç»“å°¾æ—¶ï¼Œåè½¬å½“å‰å•è¯
        if (s[i] == ' ' || s[i] == '\0') {
            reverseString(s, start, i - 1);
            start = i + 1;
        }
    }
    
    return s;
}
```

### ğŸ“– æ€»ç»“ï¼š

<details>
<summary>ç‚¹å‡»å±•å¼€é¢˜ç›®æ€»ç»“</summary>
# ğŸ¤” åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯

---

## 1ï¸âƒ£ é¢˜ç›®æ ¸å¿ƒä¿¡æ¯

ğŸ¯ **åŠŸèƒ½æè¿°**ï¼šç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåè½¬å…¶ä¸­å•è¯çš„é¡ºåºï¼ŒåŒæ—¶å¤„ç†å¤šä½™çš„ç©ºæ ¼é—®é¢˜

ğŸ“¥ **è¾“å…¥è¾“å‡º**ï¼š
- **è¾“å…¥**ï¼š`char* s` - è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œå¯èƒ½åŒ…å«å‰å¯¼ç©ºæ ¼ã€å°¾éšç©ºæ ¼æˆ–å•è¯é—´å¤šä¸ªç©ºæ ¼
- **è¾“å‡º**ï¼š`char*` - è¿”å›å•è¯é¡ºåºé¢ å€’ä¸”å•è¯é—´ä»…ç”¨å•ä¸ªç©ºæ ¼åˆ†éš”çš„å­—ç¬¦ä¸²

---

## 2ï¸âƒ£ å®ç°åŸç†

ğŸ’¡ **æ ¸å¿ƒæ€è·¯**ï¼šä½¿ç”¨åŒæŒ‡é’ˆæŠ€æœ¯ç§»é™¤å¤šä½™ç©ºæ ¼ï¼Œç„¶åé€šè¿‡æ•´ä½“åè½¬åŠ å±€éƒ¨åè½¬çš„æ–¹å¼å®ç°å•è¯é¡ºåºè°ƒæ¢

ğŸ“‹ **å®ç°æ­¥éª¤**ï¼š
1. ä½¿ç”¨åŒæŒ‡é’ˆç§»é™¤å­—ç¬¦ä¸²ä¸­çš„å‰å¯¼ç©ºæ ¼ã€å°¾éšç©ºæ ¼å’Œå•è¯é—´çš„å¤šä½™ç©ºæ ¼
2. åè½¬æ•´ä¸ªå­—ç¬¦ä¸²
3. éå†å­—ç¬¦ä¸²ï¼Œè¯†åˆ«æ¯ä¸ªå•è¯çš„è¾¹ç•Œå¹¶å•ç‹¬åè½¬æ¯ä¸ªå•è¯
4. è¿”å›å¤„ç†åçš„å­—ç¬¦ä¸²

---

## 3ï¸âƒ£ å…³é”®ç‚¹è§£æ

### ğŸ¯ ä»£ç æŠ€å·§
- **åŒæŒ‡é’ˆæŠ€æœ¯**ï¼šç”¨äºé«˜æ•ˆåœ°ç§»é™¤å¤šä½™ç©ºæ ¼ï¼Œé¿å…ä½¿ç”¨é¢å¤–ç©ºé—´
- **ä¸¤æ¬¡åè½¬æ³•**ï¼šå…ˆæ•´ä½“åè½¬å†å±€éƒ¨åè½¬ï¼Œå·§å¦™å®ç°å•è¯é¡ºåºè°ƒæ¢
- **åŸåœ°æ“ä½œ**ï¼šæ‰€æœ‰æ“ä½œéƒ½åœ¨åŸå­—ç¬¦ä¸²ä¸Šè¿›è¡Œï¼Œæ»¡è¶³O(1)ç©ºé—´å¤æ‚åº¦è¦æ±‚

## 4ï¸âƒ£ ä½¿ç”¨åœºæ™¯

### âœ… é€‚ç”¨æƒ…å†µï¼š
- éœ€è¦åè½¬å¥å­ä¸­å•è¯é¡ºåºçš„æ–‡æœ¬å¤„ç†
- å†…å­˜å—é™ç¯å¢ƒä¸‹å¤„ç†å­—ç¬¦ä¸²
- éœ€è¦è§„èŒƒåŒ–ç©ºæ ¼çš„å­—ç¬¦ä¸²å¤„ç†åœºæ™¯

### âš ï¸ å‰ææ¡ä»¶ï¼š
- å­—ç¬¦ä¸²å¿…é¡»æ˜¯å¯å˜çš„ï¼ˆCè¯­è¨€ä¸­ä¸ºå­—ç¬¦æ•°ç»„ï¼‰
- å­—ç¬¦ä¸²è‡³å°‘åŒ…å«ä¸€ä¸ªå•è¯

## 5ï¸âƒ£ å¤æ‚åº¦åˆ†æ

- â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­næ˜¯å­—ç¬¦ä¸²é•¿åº¦ï¼Œéœ€è¦éå†å­—ç¬¦ä¸²å¸¸æ•°æ¬¡

- ğŸ’¾ ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œåªä½¿ç”¨å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ï¼ŒåŸåœ°ä¿®æ”¹å­—ç¬¦ä¸²

## 6ï¸âƒ£ æ³¨æ„äº‹é¡¹

### ğŸš© è¾¹ç•Œæƒ…å†µï¼š
- ç©ºå­—ç¬¦ä¸²æˆ–åªåŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²
- åªæœ‰ä¸€ä¸ªå•è¯çš„å­—ç¬¦ä¸²
- å­—ç¬¦ä¸²ä¸­åŒ…å«å¤§é‡å¤šä½™ç©ºæ ¼çš„æƒ…å†µ

### ğŸ’¥ æ˜“é”™ç‚¹ï¼š
- å¿˜è®°å¤„ç†å‰å¯¼ç©ºæ ¼å’Œå°¾éšç©ºæ ¼
- å•è¯é—´ç©ºæ ¼å¤„ç†ä¸æ­£ç¡®ï¼Œå¯èƒ½ä¿ç•™å¤šä¸ªç©ºæ ¼
- åè½¬åŒºé—´è¾¹ç•Œå¤„ç†é”™è¯¯ï¼Œå¯¼è‡´æ•°ç»„è¶Šç•Œ

## 7ï¸âƒ£ è¡¥å……è¯´æ˜

ä»¥å­—ç¬¦ä¸² " the sky is blue " ä¸ºä¾‹æ¥æ¼”ç¤ºæ•´ä¸ªç®—æ³•è¿‡ç¨‹ï¼š

### åˆå§‹çŠ¶æ€

è¾“å…¥å­—ç¬¦ä¸²ï¼š`" the sky is blue "`

### ç¬¬ä¸€æ­¥ï¼šç§»é™¤å¤šä½™ç©ºæ ¼

æ‰§è¡Œ `removeExtraSpaces` å‡½æ•°ï¼š
```
åŸå­—ç¬¦ä¸²: "  the sky is blue  "
          â†‘
        fast=0, slow=0
```


è¿‡ç¨‹ï¼š
- fast=0,1: ç©ºæ ¼ï¼Œè·³è¿‡
- fast=2: 't' -> s[0]='t', slow=1
- fast=3: 'h' -> s[1]='h', slow=2
- fast=4: 'e' -> s[2]='e', slow=3
- fast=5: ç©ºæ ¼ -> s[3]=' ', slow=4
- fast=6: ç©ºæ ¼ -> ä¸å‰ä¸€å­—ç¬¦éƒ½æ˜¯ç©ºæ ¼ï¼Œè·³è¿‡
- fast=7: 's' -> s[4]='s', slow=5
- fast=8: 'k' -> s[5]='k', slow=6
- fast=9: 'y' -> s[6]='y', slow=7
- fast=10: ç©ºæ ¼ -> s[7]=' ', slow=8
- fast=11: 'i' -> s[8]='i', slow=9
- fast=12: 's' -> s[9]='s', slow=10
- fast=13: ç©ºæ ¼ -> s[10]=' ', slow=11
- fast=14: 'b' -> s[11]='b', slow=12
- fast=15: 'l' -> s[12]='l', slow=13
- fast=16: 'u' -> s[13]='u', slow=14
- fast=17: 'e' -> s[14]='e', slow=15
- fast=18,19: ç©ºæ ¼ -> æ£€æŸ¥åˆ°ç»“å°¾ç©ºæ ¼ï¼Œä¸åšå¤„ç†

æœ€ç»ˆç»“æœ: "the sky is blue"
ç´¢å¼•:      0123456789ABCDEF
é•¿åº¦: 15

### ç¬¬äºŒæ­¥ï¼šåè½¬æ•´ä¸ªå­—ç¬¦ä¸²

æ‰§è¡Œ `reverseString(s, 0, 14)`ï¼š
```
åŸå­—ç¬¦ä¸²: "the sky is blue"
åè½¬å:   "eulb si yks eht"
```
### ç¬¬ä¸‰æ­¥ï¼šé€ä¸ªåè½¬å•è¯

éå†å­—ç¬¦ä¸²ï¼Œå¯¹æ¯ä¸ªå•è¯è¿›è¡Œåè½¬ï¼š

  1.å¤„ç†ç¬¬ä¸€ä¸ªå•è¯ "eulb"ï¼ˆç´¢å¼•0-3ï¼‰ï¼š
```
åè½¬å‰: "eulb si yks eht"
åè½¬å: "blue si yks eht"
```  
  2.å¤„ç†ç¬¬äºŒä¸ªå•è¯ "si"ï¼ˆç´¢å¼•5-6ï¼‰ï¼š
```
åè½¬å‰: "blue si yks eht"
åè½¬å: "blue is yks eht"
```  

  3.å¤„ç†ç¬¬ä¸‰ä¸ªå•è¯ "yks"ï¼ˆç´¢å¼•8-10ï¼‰ï¼š
```
åè½¬å‰: "blue is yks eht"
åè½¬å: "blue is sky eht"
```  

  4.å¤„ç†ç¬¬å››ä¸ªå•è¯ "eht"ï¼ˆç´¢å¼•12-14ï¼‰ï¼š
``` 
åè½¬å‰: "blue is sky eht"
åè½¬å: "blue is sky the"  
```

### æœ€ç»ˆç»“æœ

è¾“å‡ºå­—ç¬¦ä¸²ï¼š`"blue is sky the"`

è¿™ä¸ªè¿‡ç¨‹é€šè¿‡ä¸‰æ­¥æ“ä½œå®Œæˆäº†å•è¯é¡ºåºçš„åè½¬ï¼š

  1.é¦–å…ˆæ¸…ç†è¾“å…¥å­—ç¬¦ä¸²ï¼Œç§»é™¤å¤šä½™ç©ºæ ¼

  2.ç„¶åæ•´ä½“åè½¬å­—ç¬¦ä¸²

  3.æœ€åå°†æ¯ä¸ªå•è¯å†æ¬¡åè½¬ä»¥æ¢å¤å…¶æ­£ç¡®é¡ºåº

è¿™ç§æ–¹æ³•çš„ä¼˜åŠ¿åœ¨äºåªéœ€è¦å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ï¼Œå®Œå…¨åœ¨åŸå­—ç¬¦ä¸²ä¸Šè¿›è¡Œæ“ä½œã€‚


</details>
