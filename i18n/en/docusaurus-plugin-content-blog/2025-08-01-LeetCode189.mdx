---
slug: LeetCode189
title: è½®è½¬æ•°ç»„
authors: eurekaX
tags: [æ•°ç»„]
---
import { Highlight, Keyword, Light, B1, B2, B3, BH3, B3W, MyColor} from '@site/src/components/ForMDX';


### <B2>[åŠ›æ‰£é¢è¯•ç»å…¸â€”â€”189é¢˜](https://leetcode.cn/problems/rotate-array/description/?envType=study-plan-v2&envId=top-interview-150 "åŠ›æ‰£")</B2>

<!-- truncate -->


### ğŸ’¡ å‚è€ƒä»£ç ï¼š

```c
/**
 * @brief åè½¬æ•°ç»„ä¸­æŒ‡å®šèŒƒå›´çš„å…ƒç´ 
 * 
 * @param nums æŒ‡å‘æ•´å‹æ•°ç»„çš„æŒ‡é’ˆ
 * @param start åè½¬èŒƒå›´çš„èµ·å§‹ç´¢å¼•ï¼ˆåŒ…å«ï¼‰
 * @param end åè½¬èŒƒå›´çš„ç»“æŸç´¢å¼•ï¼ˆåŒ…å«ï¼‰
 * 
 * @details ä½¿ç”¨åŒæŒ‡é’ˆæ³•ï¼Œä»ä¸¤ç«¯å‘ä¸­é—´äº¤æ¢å…ƒç´ ï¼Œå®ç°æ•°ç»„éƒ¨åˆ†åè½¬
 *          æ—¶é—´å¤æ‚åº¦: O(n)ï¼Œç©ºé—´å¤æ‚åº¦: O(1)
 */
void reverse(int* nums, int start, int end) {
    while (start < end) {
        int temp = nums[start];
        nums[start] = nums[end];
        nums[end] = temp;
        start++;
        end--;
    }
}

/**
 * @brief å°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³è½®è½¬ k ä¸ªä½ç½®
 * 
 * @param nums æŒ‡å‘æ•´å‹æ•°ç»„çš„æŒ‡é’ˆ
 * @param numsSize æ•°ç»„çš„é•¿åº¦
 * @param k è½®è½¬çš„æ­¥æ•°ï¼ˆéè´Ÿæ•°ï¼‰
 * 
 * @details ä½¿ç”¨ä¸‰æ­¥åè½¬æ³•å®ç°æ•°ç»„è½®è½¬ï¼š
 *          1. åè½¬æ•´ä¸ªæ•°ç»„
 *          2. åè½¬å‰ k ä¸ªå…ƒç´ 
 *          3. åè½¬å n-k ä¸ªå…ƒç´ 
 *          
 *          ä¾‹å¦‚: nums = [1,2,3,4,5,6,7], k = 3
 *          step1: [7,6,5,4,3,2,1] åè½¬æ•´ä¸ªæ•°ç»„
 *          step2: [5,6,7,4,3,2,1] åè½¬å‰3ä¸ªå…ƒç´ 
 *          step3: [5,6,7,1,2,3,4] åè½¬å4ä¸ªå…ƒç´ 
 *          
 *          æ—¶é—´å¤æ‚åº¦: O(n)ï¼Œç©ºé—´å¤æ‚åº¦: O(1)
 */
void rotate(int* nums, int numsSize, int k) {
    // å¤„ç†kå¤§äºæ•°ç»„é•¿åº¦çš„æƒ…å†µï¼Œé¿å…ä¸å¿…è¦çš„è½®è½¬
    k = k % numsSize;
    
    // ä¸‰æ­¥åè½¬æ³•
    reverse(nums, 0, numsSize - 1);      // åè½¬æ•´ä¸ªæ•°ç»„
    reverse(nums, 0, k - 1);            // åè½¬å‰kä¸ªå…ƒç´ 
    reverse(nums, k, numsSize - 1);     // åè½¬ån-kä¸ªå…ƒç´ 
}
```

### ğŸ“– æ€»ç»“ï¼š

<details>
<summary>ç‚¹å‡»å±•å¼€é¢˜ç›®æ€»ç»“</summary>
# ğŸ¤” è½®è½¬æ•°ç»„

---

## 1ï¸âƒ£ é¢˜ç›®æ ¸å¿ƒä¿¡æ¯

ğŸ¯ **åŠŸèƒ½æè¿°**ï¼šå°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³è½®è½¬ k ä¸ªä½ç½®ï¼Œå®ç°å¾ªç¯ç§»ä½

ğŸ“¥ **è¾“å…¥è¾“å‡º**ï¼š
- **è¾“å…¥**ï¼š
  - `nums`: æŒ‡å‘æ•´å‹æ•°ç»„çš„æŒ‡é’ˆ
  - `numsSize`: æ•°ç»„çš„é•¿åº¦
  - `k`: è½®è½¬çš„æ­¥æ•°ï¼ˆéè´Ÿæ•°ï¼‰
- **è¾“å‡º**ï¼šæ— è¿”å›å€¼ï¼Œç›´æ¥åœ¨åŸæ•°ç»„ä¸Šè¿›è¡Œä¿®æ”¹

---

## 2ï¸âƒ£ å®ç°åŸç†

ğŸ’¡ **æ ¸å¿ƒæ€è·¯**ï¼šä½¿ç”¨ä¸‰æ­¥åè½¬æ³•ï¼ˆä¸‰æ¬¡æ•°ç»„åè½¬ï¼‰å®ç°æ•°ç»„è½®è½¬

ğŸ“‹ **å®ç°æ­¥éª¤**ï¼š
1. é¦–å…ˆå¯¹ k å–æ¨¡ï¼Œå¤„ç† k å¤§äºæ•°ç»„é•¿åº¦çš„æƒ…å†µ
2. åè½¬æ•´ä¸ªæ•°ç»„
3. åè½¬å‰ k ä¸ªå…ƒç´ 
4. åè½¬å n-k ä¸ªå…ƒç´ 

---

## 3ï¸âƒ£ å…³é”®ç‚¹è§£æ

åŸå§‹æ€è·¯æ˜¯æ¨¡æ‹Ÿè½®è½¬è¿‡ç¨‹ï¼Œæ¯æ¬¡å°†æ•°ç»„æ•´ä½“å³ç§»ä¸€ä½ï¼Œé‡å¤kæ¬¡ã€‚è¿™ç§æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nÃ—k)ï¼Œå½“kå¾ˆå¤§æ—¶æ•ˆç‡è¾ƒä½ã€‚è€Œæœ€ä¼˜è§£ä½¿ç”¨ä¸‰æ­¥åè½¬æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä»…ä¸ºO(n)ã€‚

### ğŸ¯ ä»£ç æŠ€å·§
- ä½¿ç”¨å–æ¨¡è¿ç®— `k = k % numsSize` ä¼˜åŒ–è½®è½¬æ¬¡æ•°
- é‡‡ç”¨åŒæŒ‡é’ˆæ³•å®ç°æ•°ç»„åè½¬ï¼Œç©ºé—´å¤æ‚åº¦O(1)
- ä¸‰æ­¥åè½¬æ³•çš„å·§å¦™åº”ç”¨ï¼Œå°†è½®è½¬é—®é¢˜è½¬åŒ–ä¸ºåè½¬é—®é¢˜

## 4ï¸âƒ£ ä½¿ç”¨åœºæ™¯

### âœ… é€‚ç”¨æƒ…å†µï¼š
- éœ€è¦å®ç°æ•°ç»„å¾ªç¯ç§»ä½æ“ä½œ
- å¯¹ç©ºé—´å¤æ‚åº¦æœ‰ä¸¥æ ¼è¦æ±‚çš„åœºæ™¯
- éœ€è¦åŸåœ°ä¿®æ”¹æ•°ç»„çš„åœºåˆ

### âš ï¸ å‰ææ¡ä»¶ï¼š
- æ•°ç»„ä¸èƒ½ä¸ºç©ºæŒ‡é’ˆ
- æ•°ç»„é•¿åº¦å¿…é¡»å¤§äº0
- kå€¼å¿…é¡»ä¸ºéè´Ÿæ•°

## 5ï¸âƒ£ å¤æ‚åº¦åˆ†æ

- â±ï¸ æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­nä¸ºæ•°ç»„é•¿åº¦ï¼Œéœ€è¦éå†æ•°ç»„å¸¸æ•°æ¬¡

- ğŸ’¾ ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œåªä½¿ç”¨äº†å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´

## 6ï¸âƒ£ æ³¨æ„äº‹é¡¹

### ğŸš© è¾¹ç•Œæƒ…å†µï¼š
- kç­‰äº0æˆ–æ•°ç»„é•¿åº¦çš„å€æ•°æ—¶ï¼Œæ•°ç»„ä¿æŒä¸å˜
- æ•°ç»„é•¿åº¦ä¸º1æ—¶ï¼Œæ— è®ºkä¸ºä½•å€¼æ•°ç»„éƒ½ä¿æŒä¸å˜
- kå¤§äºæ•°ç»„é•¿åº¦æ—¶ï¼Œéœ€è¦å–æ¨¡è¿ç®—é¿å…å¤šä½™æ“ä½œ

### ğŸ’¥ æ˜“é”™ç‚¹ï¼š
- å¿˜è®°å¯¹kå–æ¨¡å¯¼è‡´ä¸å¿…è¦çš„è®¡ç®—
- åè½¬æ—¶è¾¹ç•Œæ¡ä»¶å¤„ç†é”™è¯¯
- æ··æ·†å·¦è½¬å’Œå³è½¬çš„æ–¹å‘

## 7ï¸âƒ£ è¡¥å……è¯´æ˜
### ä¸ºä»€ä¹ˆéœ€è¦ k = k % numsSize æ“ä½œï¼ŸğŸ¤”

**é—®é¢˜èƒŒæ™¯**

å½“ `k` å¤§äºæ•°ç»„é•¿åº¦æ—¶ï¼Œå®é™…ä¸Šä¼šå‘ç”Ÿé‡å¤çš„è½®è½¬ã€‚è¿™ä¸ªæ“ä½œæ˜¯ä¸ºäº†é¿å…ä¸å¿…è¦çš„é‡å¤è®¡ç®—ã€‚

**ä¸¾ä¾‹è¯´æ˜**

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªé•¿åº¦ä¸º 7 çš„æ•°ç»„ï¼š`[1,2,3,4,5,6,7]`

| k å€¼ | å®é™…æ•ˆæœ | è¯´æ˜ |
|------|----------|------|
| k=3 | `[5,6,7,1,2,3,4]` | è½®è½¬3æ­¥ |
| k=10 | `[5,6,7,1,2,3,4]` | 10 = 7+3ï¼Œç›¸å½“äºè½®è½¬3æ­¥ |
| k=17 | `[5,6,7,1,2,3,4]` | 17 = 7Ã—2+3ï¼Œä¹Ÿç›¸å½“äºè½®è½¬3æ­¥ |

**æ•°å­¦åŸç†**

å¯¹äºé•¿åº¦ä¸º `n` çš„æ•°ç»„ï¼Œè½®è½¬ `k` æ­¥å’Œè½®è½¬ `k % n` æ­¥çš„æ•ˆæœå®Œå…¨ç›¸åŒã€‚

è¿™æ˜¯å› ä¸ºï¼š
- è½®è½¬ `n` æ­¥ä¼šè®©æ•°ç»„å›åˆ°åŸå§‹çŠ¶æ€
- æ‰€ä»¥è½®è½¬ `k` æ­¥ = è½®è½¬ `(k/n) Ã— n + k%n` æ­¥ = è½®è½¬ `k%n` æ­¥

**ä¼˜åŒ–æ„ä¹‰**

**æ€§èƒ½ä¼˜åŒ–**ï¼šé¿å…ä¸å¿…è¦çš„é‡å¤è½®è½¬
- å¦‚æœæ²¡æœ‰å–æ¨¡ï¼Œ`k=1000000`æ—¶å°±è¦æ‰§è¡Œ1000000æ¬¡æ“ä½œ
- å–æ¨¡åï¼Œåªéœ€è¦æ‰§è¡Œ `1000000%7 = 2` æ¬¡æœ‰æ•ˆæ“ä½œ

**ç»“æœæ­£ç¡®æ€§**ï¼šç¡®ä¿ç®—æ³•åœ¨ä»»ä½• k å€¼ä¸‹éƒ½èƒ½æ­£ç¡®å·¥ä½œ

## 8âƒ£ å…¶ä»–è§£æ³•

### âœ¨ ç¯å½¢æ›¿æ¢æ³•
```c
/**
 * @brief ä½¿ç”¨ç¯å½¢æ›¿æ¢æ³•å°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³è½®è½¬ k ä¸ªä½ç½®
 * 
 * @param nums æŒ‡å‘æ•´å‹æ•°ç»„çš„æŒ‡é’ˆ
 * @param numsSize æ•°ç»„çš„é•¿åº¦
 * @param k è½®è½¬çš„æ­¥æ•°ï¼ˆéè´Ÿæ•°ï¼‰
 * 
 * @details æ ¸å¿ƒæ€æƒ³æ˜¯å°†æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ ç›´æ¥æ”¾åˆ°è½®è½¬åçš„ä½ç½®ä¸Šã€‚
 *          é€šè¿‡è¿½è¸ªå…ƒç´ çš„ç§»åŠ¨è½¨è¿¹å½¢æˆç¯å½¢ï¼Œæ¯ä¸ªå…ƒç´ åªè®¿é—®ä¸€æ¬¡ã€‚
 *          
 *          ç®—æ³•æµç¨‹ï¼š
 *          1. ä»æ¯ä¸ªæœªè®¿é—®çš„èµ·å§‹ä½ç½®å¼€å§‹
 *          2. æ²¿ç€ç¯å½¢è·¯å¾„ç§»åŠ¨å…ƒç´ ï¼Œç›´åˆ°å›åˆ°èµ·å§‹ä½ç½®
 *          3. ç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ªç¯å½¢ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ éƒ½è¢«å¤„ç†
 *          
 *          ä¾‹å¦‚: nums = [1,2,3,4,5,6], k = 2
 *          å½¢æˆä¸¤ä¸ªç¯å½¢: 1->3->5->1 å’Œ 2->4->6->2
 *          
 *          æ—¶é—´å¤æ‚åº¦: O(n)ï¼Œç©ºé—´å¤æ‚åº¦: O(1)
 */
void rotate(int* nums, int numsSize, int k) {
    // å¤„ç†kå¤§äºæ•°ç»„é•¿åº¦çš„æƒ…å†µï¼Œé¿å…ä¸å¿…è¦çš„è½®è½¬
    k = k % numsSize;
    
    // è®°å½•å·²å¤„ç†çš„å…ƒç´ ä¸ªæ•°
    int count = 0;
    
    // éå†æ‰€æœ‰å¯èƒ½çš„èµ·å§‹ä½ç½®ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ éƒ½è¢«å¤„ç†
    for (int start = 0; count < numsSize; start++) {
        int current = start;    // å½“å‰å¤„ç†çš„ä½ç½®
        int prev = nums[start]; // éœ€è¦æ”¾ç½®åˆ°ä¸‹ä¸€ä¸ªä½ç½®çš„å€¼
        
        // æ²¿ç€ç¯å½¢è·¯å¾„ç§»åŠ¨å…ƒç´ ï¼Œç›´åˆ°å›åˆ°èµ·å§‹ä½ç½®
        do {
            int next = (current + k) % numsSize;  // è®¡ç®—ä¸‹ä¸€ä¸ªä½ç½®
            int temp = nums[next];                // ä¿å­˜ä¸‹ä¸€ä¸ªä½ç½®çš„åŸå§‹å€¼
            nums[next] = prev;                    // å°†prevæ”¾åˆ°ä¸‹ä¸€ä¸ªä½ç½®
            prev = temp;                          // æ›´æ–°prevä¸ºä¸‹ä¸€ä¸ªä½ç½®çš„åŸå§‹å€¼
            current = next;                       // ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä½ç½®
            count++;                              // å¢åŠ å·²å¤„ç†å…ƒç´ è®¡æ•°
        } while (start != current);  // å½“å›åˆ°èµ·å§‹ä½ç½®æ—¶ç»“æŸå½“å‰ç¯å½¢å¤„ç†
    }
}
```

### âœ¨ ä½¿ç”¨é¢å¤–æ•°ç»„
```c
/**
 * @brief ä½¿ç”¨é¢å¤–æ•°ç»„æ³•å°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³è½®è½¬ k ä¸ªä½ç½®
 * 
 * @param nums æŒ‡å‘æ•´å‹æ•°ç»„çš„æŒ‡é’ˆ
 * @param numsSize æ•°ç»„çš„é•¿åº¦
 * @param k è½®è½¬çš„æ­¥æ•°ï¼ˆéè´Ÿæ•°ï¼‰
 * 
 * @details æ ¸å¿ƒæ€æƒ³æ˜¯åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå°†åŸæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ ç›´æ¥æ”¾åˆ°è½®è½¬åçš„ä½ç½®ä¸Šï¼Œ
 *          ç„¶åå°†æ–°æ•°ç»„çš„å†…å®¹å¤åˆ¶å›åŸæ•°ç»„ã€‚
 *          
 *          ç®—æ³•æµç¨‹ï¼š
 *          1. åˆ›å»ºä¸åŸæ•°ç»„ç­‰é•¿çš„æ–°æ•°ç»„
 *          2. éå†åŸæ•°ç»„ï¼Œå°†æ¯ä¸ªå…ƒç´  nums[i] æ”¾åˆ°æ–°æ•°ç»„çš„ (i + k) % n ä½ç½®
 *          3. å°†æ–°æ•°ç»„çš„å†…å®¹å¤åˆ¶å›åŸæ•°ç»„
 *          
 *          ä¾‹å¦‚: nums = [1,2,3,4,5,6,7], k = 3
 *          nums[0]=1 æ”¾åˆ° newArr[(0+3)%7] = newArr[3] çš„ä½ç½®
 *          nums[1]=2 æ”¾åˆ° newArr[(1+3)%7] = newArr[4] çš„ä½ç½®
 *          ...ä»¥æ­¤ç±»æ¨
 *          
 *          æ—¶é—´å¤æ‚åº¦: O(n)ï¼Œç©ºé—´å¤æ‚åº¦: O(n)
 */
void rotate(int* nums, int numsSize, int k) {
    int newArr[numsSize];     // åˆ›å»ºä¸åŸæ•°ç»„ç­‰é•¿çš„æ–°æ•°ç»„
    k = k % numsSize;         // å¤„ç†kå¤§äºæ•°ç»„é•¿åº¦çš„æƒ…å†µ
    
    // å°†å…ƒç´ æ”¾åˆ°æ–°ä½ç½®
    for (int i = 0; i < numsSize; i++) {
        // å°†nums[i]æ”¾åˆ°æ–°æ•°ç»„çš„(i + k) % numsSizeä½ç½®ï¼ˆè½®è½¬åçš„ä½ç½®ï¼‰
        newArr[(i + k) % numsSize] = nums[i];
    }
    
    // å¤åˆ¶å›åŸæ•°ç»„
    for (int i = 0; i < numsSize; i++) {
        nums[i] = newArr[i];
    }
}
```
</details>
